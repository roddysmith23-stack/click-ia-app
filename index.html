<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAG.IA - Cielo Líquido</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Outfit:wght@300;500;700;900&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.1/fabric.min.js"></script>
    
    <style>
        /* --- MAG.IA: CIELO LÍQUIDO CORE STYLES --- */
        body { 
            margin: 0; 
            overflow-x: hidden; 
            font-family: 'Inter', sans-serif; 
            background: #f0f9ff; 
            color: #1e293b; /* Slate 800 para contraste en fondo claro */
            transition: none; 
        }
        
        h1, h2, h3, .font-brand { font-family: 'Outfit', sans-serif; }

        /* PILAR 1: EL NUEVO LIENZO (CIELO) */
        .liquid-bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -2;
            /* Degradado Cielo: Azules suaves, blanco nube, toque dorado amanecer */
            background: linear-gradient(135deg, #bfdbfe 0%, #ffffff 50%, #e0f2fe 100%);
            background-size: 400% 400%;
            animation: breatheSky 20s ease infinite;
        }

        /* Animación de "Respiración" del cielo */
        @keyframes breatheSky {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Nubes flotantes decorativas (CSS puro) */
        .cloud {
            position: fixed;
            background: rgba(255, 255, 255, 0.4);
            border-radius: 50%;
            filter: blur(40px);
            z-index: -1;
            animation: floatCloud 60s infinite linear;
        }
        @keyframes floatCloud { from { transform: translateX(-100px); } to { transform: translateX(120vw); } }

        /* PILAR 2: ARQUITECTURA "LIQUID GLASS" GLOBAL */
        .glass {
            background: rgba(255, 255, 255, 0.40); /* Más blanco, más luz */
            backdrop-filter: blur(24px); /* Desenfoque fuerte tipo "Cristal Esmerilado" */
            -webkit-backdrop-filter: blur(24px);
            border: 1px solid rgba(255, 255, 255, 0.8); /* Borde luminoso */
            box-shadow: 
                0 8px 32px 0 rgba(31, 38, 135, 0.07), /* Sombra suave difusa */
                inset 0 0 0 1px rgba(255, 255, 255, 0.5); /* Brillo interior */
            border-radius: 32px; /* Bordes curvos orgánicos */
        }
        
        /* Cards interactivas con efecto Glass */
        .glass-card {
            background: rgba(255, 255, 255, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.6);
            border-radius: 24px;
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            cursor: pointer;
            overflow: hidden;
            position: relative;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }
        .glass-card:hover {
            transform: translateY(-8px) scale(1.02);
            background: rgba(255, 255, 255, 0.7);
            box-shadow: 0 20px 40px rgba(14, 165, 233, 0.15); /* Sombra azul cielo al hover */
            border-color: #f59e0b; /* Toque dorado al hover */
        }
        .glass-card.selected {
            background: rgba(255, 255, 255, 0.8);
            border: 2px solid #f59e0b; /* Borde dorado */
            box-shadow: 0 0 30px rgba(245, 158, 11, 0.3);
        }

        .card-label { 
            position: absolute; bottom: 0; left: 0; width: 100%; 
            background: linear-gradient(to top, rgba(255,255,255,0.95), rgba(255,255,255,0)); 
            padding: 20px 10px 15px 10px; 
            text-align: center; 
            font-family: 'Outfit'; 
            text-transform: uppercase; 
            font-weight: 800; 
            color: #0f172a;
            letter-spacing: 1px; 
        }

        /* SOL RADIANTE */
        .sun-icon {
            color: #fbbf24; /* Amber 400 */
            filter: drop-shadow(0 0 15px rgba(251, 191, 36, 0.8)); /* Glow dorado intenso */
            animation: spinSlow 60s linear infinite;
        }
        @keyframes spinSlow { 100% { transform: rotate(360deg); } }

        /* UI Elements Modernizados */
        .primary-btn {
            background: linear-gradient(135deg, #38bdf8 0%, #0ea5e9 100%); /* Azul Cielo Vibrante */
            color: white;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            border-radius: 16px;
            padding: 18px 36px;
            transition: all 0.3s ease;
            box-shadow: 0 10px 25px -5px rgba(14, 165, 233, 0.4);
            border: 1px solid rgba(255,255,255,0.2);
        }
        .primary-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 20px 30px -5px rgba(14, 165, 233, 0.5);
            filter: brightness(1.1);
        }

        .gold-btn {
            background: linear-gradient(135deg, #fbbf24 0%, #d97706 100%);
            color: white; font-weight: 900; text-transform: uppercase; letter-spacing: 0.05em;
            border-radius: 16px; padding: 16px 24px; transition: all 0.2s; cursor: pointer;
            box-shadow: 0 10px 20px rgba(245, 158, 11, 0.3); 
            border: 1px solid rgba(255,255,255,0.4);
        }
        .gold-btn:hover { transform: translateY(-2px); box-shadow: 0 15px 30px rgba(245, 158, 11, 0.5); }

        /* Inputs Flotantes */
        .liquid-input {
            background: rgba(255, 255, 255, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.6);
            border-radius: 16px;
            padding: 16px;
            width: 100%;
            font-family: 'Outfit';
            font-size: 1.1rem;
            color: #0f172a;
            outline: none;
            transition: all 0.3s;
        }
        .liquid-input:focus {
            background: rgba(255, 255, 255, 0.9);
            border-color: #38bdf8;
            box-shadow: 0 0 0 4px rgba(56, 189, 248, 0.1);
        }
        .liquid-input::placeholder { color: #94a3b8; }

        /* Texto destacado */
        .text-gradient {
            background: linear-gradient(to right, #0f172a, #334155);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .text-sky-gradient {
            background: linear-gradient(to right, #0284c7, #0ea5e9);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Scrollbar invisible pero funcional */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.1); border-radius: 10px; }
        
        /* Utilidades */
        .fade-enter { animation: fadeIn 0.8s cubic-bezier(0.22, 1, 0.36, 1) forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Nano Studio */
        .editor-panel { background: rgba(255,255,255,0.8); backdrop-filter: blur(20px); border-right: 1px solid rgba(0,0,0,0.05); }
        .canvas-bg { background-color: #e2e8f0; background-image: radial-gradient(#cbd5e1 1px, transparent 1px); background-size: 20px 20px; }
    </style>
</head>
<body>
    <audio id="sfx-click" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_c8c8a7346b.mp3"></audio>
    <audio id="sfx-process" src="https://cdn.pixabay.com/download/audio/2022/03/24/audio_c2b3b469b7.mp3"></audio>
    <audio id="sfx-success" src="https://cdn.pixabay.com/download/audio/2022/01/18/audio_1728e273c4.mp3"></audio>

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- URLS IMÁGENES ---
        const JORDAN_ANTES_URL = 'https://raw.githubusercontent.com/roddysmith23-stack/click-ia-app/main/IMG_8399.jpg'; 
        const JORDAN_DESPUES_URL = 'https://raw.githubusercontent.com/roddysmith23-stack/click-ia-app/main/IMG_8401.jpg';
        const CREATOR_IMAGE = "./roddy-ceo.jpg"; 

        // --- COMPONENTE ICONOS (Actualizados a diseño limpio) ---
        const Icons = {
            // PILAR 1: SOL DORADO RADIANTE
            SunLogo: () => (
                <svg className="sun-icon w-16 h-16 md:w-24 md:h-24 mb-2" viewBox="0 0 24 24" fill="currentColor" stroke="none">
                    <circle cx="12" cy="12" r="7" fill="#fbbf24" />
                    <g stroke="#fbbf24" strokeWidth="3" strokeLinecap="round">
                        <line x1="12" y1="1" x2="12" y2="3" />
                        <line x1="12" y1="21" x2="12" y2="23" />
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" />
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" />
                        <line x1="1" y1="12" x2="3" y2="12" />
                        <line x1="21" y1="12" x2="23" y2="12" />
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" />
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" />
                    </g>
                </svg>
            ),
            Google: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z"/></svg>,
            Upload: () => <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>,
            Zap: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>,
            Check: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#10b981" strokeWidth="3"><polyline points="20 6 9 17 4 12"/></svg>,
            ChevronLeft: () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="15 18 9 12 15 6"/></svg>,
            Credit: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.15-1.46-3.27-3.4h1.96c.1 1.05 1.18 1.91 2.53 1.91 1.38 0 2.36-.83 2.36-1.9 0-1.07-.69-1.58-2.61-2.17-2.24-.68-3.37-1.62-3.37-3.43 0-1.73 1.37-3.1 3.07-3.44V3.98h2.67v1.96c1.56.35 2.76 1.54 2.91 3.14h-1.98c-.13-1.01-1.02-1.68-2.18-1.68-1.24 0-2.15.79-2.15 1.8 0 .95.63 1.46 2.36 2.01 2.43.77 3.62 1.74 3.62 3.62 0 1.9-1.42 3.09-3.23 3.26z"/></svg>,
            Sliders: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="4" y1="21" x2="4" y2="14"/><line x1="4" y1="10" x2="4" y2="3"/><line x1="12" y1="21" x2="12" y2="12"/><line x1="12" y1="8" x2="12" y2="3"/><line x1="20" y1="21" x2="20" y2="16"/><line x1="20" y1="12" x2="20" y2="3"/><line x1="1" y1="14" x2="7" y2="14"/><line x1="9" y1="8" x2="15" y2="8"/><line x1="17" y1="16" x2="23" y2="16"/></svg>,
            Download: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>,
            X: () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>,
            Star: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" stroke="none"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>,
            Copy: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>,
            Image: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>,
            Text: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="4 7 4 4 20 4 20 7"/><line x1="9" y1="20" x2="15" y2="20"/><line x1="12" y1="4" x2="12" y2="20"/></svg>
        };

        // --- DATOS ---
        const STYLES_DATA = [
            { id: 'luxury', name: 'Lujo Minimal', img: 'https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=400' },
            { id: 'nature', name: 'Natural / Orgánico', img: 'https://images.unsplash.com/photo-1542601906990-b4d3fb7d5763?q=80&w=400' }, 
            { id: 'studio', name: 'Estudio Pro', img: 'https://images.unsplash.com/photo-1550751827-4bd374c3f58b?q=80&w=400' },
            { id: 'sunset', name: 'Golden Hour', img: 'https://images.unsplash.com/photo-1477346611705-65d1883cee1e?q=80&w=400' }
        ];

        const TRANSLATIONS = {
            ES: {
                enter: "INGRESAR", prices: "VER PRECIOS", powered: "Potenciado por Google Gemini",
                hero_mk: "EL FUTURO DEL MARKETING", hero_auto: "ES LÍQUIDO.",
                bullets: ['Fidelidad Estructural', 'Hiperrealismo', 'Cielo Líquido', 'Diseño Puro'],
                cta_trial: "TRANSFORMAR IMAGEN", cta_posts: "IA GENERATIVA V2.0",
                upload_title: "TU MATERIA PRIMA", upload_prod: "PRODUCTO", upload_logo: "LOGOTIPO (Opcional)", next: "SIGUIENTE",
                q1_title: "¿OBJETIVO VISUAL?", q1_ph: "Ej: Elegancia, frescura, potencia...",
                q5_title: "PALETA DE COLOR", style_title: "ESTILO VISUAL",
                gen_btn: "MATERIALIZAR VISIÓN", processing: "PROCESANDO...", result_title: "OBRA MAESTRA",
                download: "DESCARGAR IMAGEN", credits: "CRÉDITOS",
                loading_steps: ["ANALIZANDO GEOMETRÍA...", "RENDERIZANDO LUZ...", "APLICANDO TEXTURAS...", "PULIENDO DETALLES..."],
                credit_text: '"El cielo no es el límite, es nuestro lienzo." — Roddy Smith',
                creator_title: "EL VISIONARIO", creator_role: "CEO & FOUNDER",
                edit_design: "ABRIR NANO-STUDIO", close_editor: "CERRAR STUDIO",
                before: "Original", after: "MAG.IA"
            }
        };

        // --- COMPONENTES ---
        
        const ComparisonSlider = ({ beforeImage, afterImage }) => {
            const [sliderPos, setSliderPos] = useState(50);
            const containerRef = useRef(null);
            const handleMove = (e) => {
                if (!containerRef.current) return;
                const rect = containerRef.current.getBoundingClientRect();
                const clientX = e.clientX || (e.touches && e.touches[0].clientX);
                if (clientX === undefined) return;
                const x = (clientX - rect.left) / rect.width * 100;
                setSliderPos(Math.min(100, Math.max(0, x)));
            };
            return (
                <div className="relative w-full h-full overflow-hidden rounded-2xl cursor-ew-resize select-none shadow-2xl" ref={containerRef} onMouseMove={handleMove} onTouchMove={handleMove}>
                    <img src={afterImage} className="absolute top-0 left-0 w-full h-full object-cover" />
                    <div className="absolute top-0 left-0 h-full overflow-hidden border-r-2 border-white box-content" style={{ width: `${sliderPos}%` }}>
                        <img src={beforeImage} className="absolute top-0 left-0 h-full max-w-none object-cover" style={{ width: containerRef.current ? containerRef.current.offsetWidth : '100%' }} />
                    </div>
                    <div className="absolute top-1/2 w-10 h-10 bg-white rounded-full flex items-center justify-center text-blue-500 shadow-lg transform -translate-y-1/2 -translate-x-1/2 pointer-events-none" style={{ left: `${sliderPos}%` }}>
                        <Icons.Sliders />
                    </div>
                </div>
            );
        };

        // HEADER REESTRUCTURADO (PILAR 1 & LOGO)
        const Header = ({ setView, credits }) => (
            <div className="absolute top-0 left-0 w-full p-6 z-50 flex flex-col md:flex-row justify-between items-center gap-4 pointer-events-none">
                <div className="pointer-events-auto">
                     <button className="glass px-4 py-2 rounded-full flex items-center gap-2 text-amber-500 font-bold text-sm hover:bg-white transition-colors shadow-sm">
                        <Icons.Credit /> {credits} CRÉDITOS
                     </button>
                </div>
                
                <div className="pointer-events-auto flex flex-col items-center cursor-pointer transform hover:scale-105 transition-transform duration-500" onClick={() => setView('landing')}>
                    <Icons.SunLogo />
                    <h1 className="text-4xl md:text-5xl font-black font-brand tracking-tighter text-slate-800 drop-shadow-sm -mt-3">MAG.IA</h1>
                    <div className="flex items-center gap-1 text-[10px] text-slate-500 font-bold uppercase tracking-widest bg-white/40 px-3 py-1 rounded-full backdrop-blur-sm mt-2">
                        <Icons.Google /> POTENCIADO POR GOOGLE GEMINI
                    </div>
                </div>
                
                <div className="w-[100px] hidden md:block"></div> 
            </div>
        );

        // NANO STUDIO LITE (Integrado en Glass)
        const NanoStudio = ({ image, onClose }) => {
            // Placeholder simplificado para la demo visual
            return (
                <div className="fixed inset-0 z-[60] flex items-center justify-center bg-slate-900/60 backdrop-blur-md p-4 fade-enter">
                    <div className="w-full max-w-5xl h-[80vh] bg-white rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row">
                        <div className="w-full md:w-72 bg-slate-50 p-6 border-r border-slate-200 flex flex-col gap-4">
                            <h3 className="font-brand font-bold text-xl text-slate-800">NANO-STUDIO</h3>
                            <div className="space-y-2">
                                <button className="w-full p-3 bg-white border border-slate-200 rounded-xl flex items-center gap-3 text-sm font-bold text-slate-600 hover:shadow-md transition-all"><Icons.Text /> AÑADIR TEXTO</button>
                                <button className="w-full p-3 bg-white border border-slate-200 rounded-xl flex items-center gap-3 text-sm font-bold text-slate-600 hover:shadow-md transition-all"><Icons.Image /> AÑADIR LOGO</button>
                            </div>
                            <div className="mt-auto">
                                <button onClick={onClose} className="w-full py-3 text-slate-400 text-sm font-bold hover:text-slate-600">CANCELAR</button>
                                <button className="primary-btn w-full text-xs mt-2">GUARDAR</button>
                            </div>
                        </div>
                        <div className="flex-1 canvas-bg flex items-center justify-center relative p-8">
                            <img src={image} className="max-h-full max-w-full shadow-2xl rounded-lg" />
                        </div>
                    </div>
                </div>
            )
        }

        // --- APP MAIN ---
        const App = () => {
            const [view, setView] = useState('landing');
            const [credits, setCredits] = useState(3);
            const [formData, setFormData] = useState({ image: null, logo: null, style: '', prompt: '' });
            const [resultImage, setResultImage] = useState(null);
            const [loadingStep, setLoadingStep] = useState(0);
            const [isEditing, setIsEditing] = useState(false);
            const fileInputRef = useRef(null);
            const t = TRANSLATIONS['ES'];

            const playSound = (id) => document.getElementById(`sfx-${id}`)?.play().catch(() => {});

            const handleUpload = (e) => {
                const file = e.target.files[0];
                if(file) {
                    playSound('click');
                    setFormData({...formData, image: URL.createObjectURL(file)});
                    setView('style');
                }
            };

            const runEngine = async () => {
                if(credits < 1) return alert("Sin créditos");
                playSound('process');
                setView('processing');
                
                // Simulación de pasos
                for(let i=0; i<t.loading_steps.length; i++) {
                    setLoadingStep(i);
                    await new Promise(r => setTimeout(r, 1000));
                }

                // PILAR 3: EL CEREBRO DE LA IA (PROMPT DE FIDELIDAD ESTRUCTURAL)
                const prompt = `Hyper-realistic professional product photography, ${formData.style} style. EXTREMELY IMPORTANT: MAINTAIN THE EXACT STRUCTURAL INTEGRITY, GEOMETRY, AND SHAPE OF THE ORIGINAL OBJECT. Do not transform the product type. If it is a steak, keep it a steak. If it is a shoe, keep it a shoe. Only enhance lighting, texture, 8k resolution, and depth of field. Cinematic lighting, soft shadows, clean composition.`;
                
                const generatedUrl = `https://image.pollinations.ai/prompt/${encodeURIComponent(prompt)}?width=1080&height=1080&nologo=true&seed=${Math.floor(Math.random()*999)}`;
                
                const img = new Image();
                img.onload = () => {
                    setResultImage(generatedUrl);
                    setCredits(c => c - 1);
                    playSound('success');
                    setView('result');
                };
                img.src = generatedUrl;
            };

            // --- VISTAS ---

            const LandingView = () => (
                <div className="min-h-screen flex flex-col items-center justify-center p-4 relative fade-enter">
                    <Header setView={setView} credits={credits} />
                    
                    <div className="w-full max-w-5xl flex flex-col items-center z-10 mt-24 mb-12">
                        <h2 className="text-5xl md:text-7xl font-black font-brand text-center leading-tight text-slate-800 mb-6 drop-shadow-sm">
                            {t.hero_mk} <br/><span className="text-sky-500">{t.hero_auto}</span>
                        </h2>
                        
                        <div className="flex flex-wrap justify-center gap-3 mb-10">
                            {t.bullets.map(b => (
                                <div key={b} className="glass px-4 py-2 rounded-full text-xs font-bold text-slate-600 uppercase tracking-wider flex items-center gap-2">
                                    <Icons.Check /> {b}
                                </div>
                            ))}
                        </div>

                        <div className="w-full max-w-2xl aspect-video rounded-2xl shadow-2xl overflow-hidden border-4 border-white mb-10 relative group">
                            <ComparisonSlider beforeImage={JORDAN_ANTES_URL} afterImage={JORDAN_DESPUES_URL} />
                            <div className="absolute bottom-4 left-4 bg-black/50 text-white px-2 py-1 rounded text-xs font-bold uppercase backdrop-blur-md">{t.before}</div>
                            <div className="absolute bottom-4 right-4 bg-sky-500/80 text-white px-2 py-1 rounded text-xs font-bold uppercase backdrop-blur-md">{t.after}</div>
                        </div>

                        <button onClick={() => setView('upload')} className="primary-btn text-lg mb-4 flex items-center gap-3">
                            {t.cta_trial} <Icons.Zap />
                        </button>
                    </div>

                    {/* CEO CARD LIQUID GLASS */}
                    <div className="glass p-6 rounded-3xl flex items-center gap-6 max-w-2xl mx-auto mb-12 hover:bg-white/60 transition-all">
                        <img src={CREATOR_IMAGE} className="w-20 h-20 rounded-full object-cover border-2 border-white shadow-lg" />
                        <div>
                            <p className="text-xs font-bold text-sky-600 uppercase tracking-widest mb-1">{t.creator_role}</p>
                            <h4 className="text-xl font-black font-brand text-slate-800">RODDY SMITH</h4>
                            <p className="text-sm text-slate-500 italic mt-1">{t.credit_text}</p>
                        </div>
                    </div>
                </div>
            );

            const UploadView = () => (
                <div className="min-h-screen flex flex-col items-center p-6 fade-enter">
                    <Header setView={setView} credits={credits} />
                    <div className="mt-32 w-full max-w-3xl glass p-10 md:p-14 text-center relative">
                        <button onClick={() => setView('landing')} className="absolute top-6 left-6 p-2 rounded-full hover:bg-black/5 transition-all"><Icons.ChevronLeft /></button>
                        <h2 className="text-3xl font-black font-brand text-slate-800 mb-2">{t.upload_title}</h2>
                        <p className="text-slate-500 mb-10">Sube tu foto para comenzar la transformación.</p>
                        
                        <div 
                            onClick={() => fileInputRef.current.click()}
                            className="border-3 border-dashed border-sky-200 bg-sky-50/50 rounded-3xl h-80 flex flex-col items-center justify-center cursor-pointer hover:border-sky-400 hover:bg-sky-100/50 transition-all group"
                        >
                            <div className="w-20 h-20 bg-white rounded-full flex items-center justify-center shadow-lg mb-4 group-hover:scale-110 transition-transform">
                                <Icons.Upload />
                            </div>
                            <span className="font-bold text-sky-900 uppercase tracking-widest text-sm">{t.upload_prod}</span>
                            <p className="text-xs text-sky-500 mt-2">JPG, PNG - Máx 10MB</p>
                        </div>
                        <input type="file" ref={fileInputRef} className="hidden" onChange={handleUpload} accept="image/*" />
                    </div>
                </div>
            );

            const StyleView = () => (
                <div className="min-h-screen flex flex-col items-center p-6 fade-enter">
                    <Header setView={setView} credits={credits} />
                    <div className="mt-28 w-full max-w-5xl">
                        <div className="flex items-center gap-4 mb-8 px-4">
                            <button onClick={() => setView('upload')} className="p-3 glass rounded-full hover:bg-white"><Icons.ChevronLeft /></button>
                            <h2 className="text-3xl font-black font-brand text-slate-800">{t.style_title}</h2>
                        </div>
                        
                        <div className="grid grid-cols-2 md:grid-cols-4 gap-6 px-4 pb-20">
                            {STYLES_DATA.map(s => (
                                <div key={s.id} onClick={() => { playSound('click'); setFormData({...formData, style: s.name}); runEngine(); }} 
                                    className="glass-card aspect-[3/4] group">
                                    <img src={s.img} className="w-full h-full object-cover" />
                                    <div className="card-label">{s.name}</div>
                                </div>
                            ))}
                        </div>
                    </div>
                </div>
            );

            const ProcessingView = () => (
                <div className="min-h-screen flex flex-col items-center justify-center p-6 fade-enter">
                    <div className="glass p-12 rounded-[3rem] text-center max-w-xl w-full flex flex-col items-center shadow-2xl">
                        <div className="relative w-32 h-32 mb-8">
                            <div className="absolute inset-0 rounded-full border-4 border-sky-100 animate-pulse"></div>
                            <div className="absolute inset-0 rounded-full border-t-4 border-sky-500 animate-spin"></div>
                            <div className="absolute inset-4 bg-white rounded-full flex items-center justify-center shadow-inner">
                                <Icons.SunLogo />
                            </div>
                        </div>
                        <h3 className="text-2xl font-black font-brand text-slate-800 mb-2 uppercase tracking-wider animate-pulse">{t.processing}</h3>
                        <p className="text-sm font-bold text-sky-600 uppercase tracking-widest">{t.loading_steps[loadingStep]}</p>
                        <div className="w-full bg-gray-200 rounded-full h-2 mt-8 overflow-hidden">
                            <div className="bg-sky-500 h-2 rounded-full transition-all duration-500" style={{width: `${(loadingStep + 1) * 25}%`}}></div>
                        </div>
                    </div>
                </div>
            );

            const ResultView = () => (
                <div className="min-h-screen flex flex-col items-center p-6 fade-enter pb-20">
                    <Header setView={setView} credits={credits} />
                    <div className="mt-24 w-full max-w-6xl grid md:grid-cols-2 gap-8 glass p-8 md:p-10 rounded-[3rem]">
                        
                        <div className="flex flex-col gap-6">
                            <h2 className="text-3xl font-black font-brand text-slate-800">{t.result_title}</h2>
                            <div className="w-full aspect-square rounded-3xl overflow-hidden shadow-2xl border-4 border-white bg-slate-100 relative">
                                <ComparisonSlider beforeImage={formData.image} afterImage={resultImage} />
                            </div>
                        </div>

                        <div className="flex flex-col justify-center gap-6">
                            <div className="glass p-6 rounded-2xl bg-white/60">
                                <div className="flex items-center gap-3 mb-2">
                                    <Icons.Check />
                                    <span className="font-bold text-slate-700 text-sm uppercase">Estructura Preservada</span>
                                </div>
                                <div className="flex items-center gap-3 mb-2">
                                    <Icons.Zap />
                                    <span className="font-bold text-slate-700 text-sm uppercase">Iluminación 8K Mejorada</span>
                                </div>
                            </div>

                            <div className="space-y-3 mt-auto">
                                <button onClick={() => { const a = document.createElement('a'); a.href=resultImage; a.download='MAGIA.jpg'; a.click(); }} className="gold-btn w-full flex justify-center gap-2 shadow-xl">
                                    <Icons.Download /> {t.download}
                                </button>
                                <button onClick={() => setIsEditing(true)} className="w-full py-4 bg-white border border-slate-200 rounded-2xl text-slate-700 font-bold uppercase tracking-wider hover:bg-slate-50 transition-colors">
                                    {t.edit_design}
                                </button>
                                <button onClick={() => setView('upload')} className="w-full py-3 text-xs font-bold text-slate-400 hover:text-slate-600">
                                    NUEVA TRANSFORMACIÓN
                                </button>
                            </div>
                        </div>
                    </div>
                    {isEditing && <NanoStudio image={resultImage} onClose={() => setIsEditing(false)} />}
                </div>
            );

            return (
                <>
                    <div className="liquid-bg"></div>
                    {/* Nubes Decorativas */}
                    <div className="cloud" style={{width: '400px', height: '400px', top: '-100px', left: '-100px'}}></div>
                    <div className="cloud" style={{width: '300px', height: '300px', bottom: '10%', right: '-50px', animationDelay: '-20s'}}></div>
                    
                    {view === 'landing' && <LandingView />}
                    {view === 'upload' && <UploadView />}
                    {view === 'style' && <StyleView />}
                    {view === 'processing' && <ProcessingView />}
                    {view === 'result' && <ResultView />}
                </>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>

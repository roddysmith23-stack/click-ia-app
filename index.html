<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CLICK IA - The Future of Marketing</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;900&family=Chakra+Petch:wght@400;600;700&family=Oswald:wght@500&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        /* --- EST√âTICA FINAL --- */
        body { background-color: #050505; color: white; font-family: 'Inter', sans-serif; overflow-x: hidden; }
        h1, h2, h3, .font-tech { font-family: 'Chakra Petch', sans-serif; }
        
        #bg-video {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            object-fit: cover; z-index: -1; opacity: 0.2;
            filter: contrast(1.2) brightness(0.5) hue-rotate(190deg) grayscale(0.5);
        }

        .glass { 
            background: rgba(15, 15, 20, 0.85); backdrop-filter: blur(20px); 
            border: 1px solid rgba(255, 255, 255, 0.08); box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5); 
        }
        .glass-panel {
            background: rgba(10, 10, 12, 0.98); 
            border: 1px solid rgba(255,255,255,0.1);
        }

        /* Animaciones */
        .fade-enter { animation: fadeIn 0.5s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Botones */
        .tech-btn {
            background: white; color: black; font-weight: 900; text-transform: uppercase; letter-spacing: 0.05em;
            border-radius: 4px; padding: 14px 32px; transition: all 0.2s; cursor: pointer;
            clip-path: polygon(10% 0, 100% 0, 100% 70%, 90% 100%, 0 100%, 0 30%);
        }
        .tech-btn:hover { transform: translateY(-2px); box-shadow: 0 0 25px rgba(255, 255, 255, 0.3); }

        /* Inputs */
        .glass-input {
            background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(255, 255, 255, 0.1);
            color: white; font-family: 'Chakra Petch'; padding: 12px; width: 100%; border-radius: 6px;
            transition: all 0.3s;
        }
        .glass-input:focus { outline: none; border-color: #06b6d4; background: rgba(6, 182, 212, 0.05); }

        /* Canvas Editor */
        .canvas-container {
            background-image: 
                linear-gradient(45deg, #1a1a1a 25%, transparent 25%), 
                linear-gradient(-45deg, #1a1a1a 25%, transparent 25%), 
                linear-gradient(45deg, transparent 75%, #1a1a1a 75%), 
                linear-gradient(-45deg, transparent 75%, #1a1a1a 75%);
            background-size: 20px 20px;
            background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
            background-color: #0f0f0f;
        }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #0a0a0a; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #555; }

        .yt-embed-container {
            position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 8px; margin-bottom: 10px; border: 1px solid rgba(255,255,255,0.1);
        }
        .yt-embed-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
    </style>
</head>
<body>
    <video id="bg-video" autoplay loop muted playsinline>
        <source src="https://cdn.pixabay.com/video/2020/12/18/59791-494669276_large.mp4" type="video/mp4">
    </video>

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useCallback } = React;

        // --- CONFIGURACI√ìN ---
        const INITIAL_CREDITS = 5;
        // Placeholder para el fundador (Reemplazar con tu link real)
        const CREATOR_IMAGE = "https://images.unsplash.com/photo-1560250097-0b93528c311a?q=80&w=1000&auto=format&fit=crop"; 
        
        // --- ICONOS ---
        const Icons = {
            Logo: () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>,
            Google: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="white"><path d="M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z"/></svg>,
            Upload: () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>,
            Zap: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>,
            Download: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>,
            Edit: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>,
            ChevronLeft: () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="15 18 9 12 15 6"/></svg>,
            Copy: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>,
            Trash: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>,
            Undo: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M3 7v6h6"/><path d="M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"/></svg>,
            Text: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="4 7 4 4 20 4 20 7"/><line x1="9" y1="20" x2="15" y2="20"/><line x1="12" y1="4" x2="12" y2="20"/></svg>,
            Image: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>
        };

        // --- DATA ---
        const VIRAL_SONGS = [
            { id: 'tQ0yjYUFKAE', title: 'Glimpse of Us - Joji', tags: '#Sad #Vibes' },
            { id: 'mRD0-GxqHVo', title: 'Heat Waves - Glass Animals', tags: '#Trending #Pop' },
            { id: 'UPu730w729k', title: 'As It Was - Harry Styles', tags: '#Viral #2024' }
        ];

        // --- NANO STUDIO (CANVAS EDITOR) ---
        const NanoStudio = ({ baseImage, onClose }) => {
            const canvasRef = useRef(null);
            const [elements, setElements] = useState([]); // { type: 'text'|'image', content, x, y, color, size, font }
            const [selectedId, setSelectedId] = useState(null);
            const [dragging, setDragging] = useState(false);
            const [history, setHistory] = useState([]);

            // Cargar imagen base
            useEffect(() => {
                const img = new Image();
                img.crossOrigin = "anonymous";
                img.src = baseImage;
                img.onload = () => {
                    // Ajustar canvas al ratio de la imagen
                    if(canvasRef.current) {
                        const ctx = canvasRef.current.getContext('2d');
                        // Para demo, fijo en 600x600, en prod ser√≠a din√°mico
                        // Se dibuja una vez al inicio
                        drawCanvas();
                    }
                };
            }, [baseImage]);

            // Sistema de dibujo principal
            const drawCanvas = useCallback(() => {
                const canvas = canvasRef.current;
                if (!canvas) return;
                const ctx = canvas.getContext('2d');
                
                // Limpiar
                ctx.clearRect(0, 0, canvas.width, canvas.height);

                // 1. Dibujar Fondo (Imagen Base)
                const bg = new Image();
                bg.crossOrigin = "anonymous";
                bg.src = baseImage;
                // En un caso real, esperar√≠amos a que cargue, aqu√≠ asumimos cach√© o parpadeo m√≠nimo
                ctx.drawImage(bg, 0, 0, canvas.width, canvas.height);

                // 2. Dibujar Elementos
                elements.forEach(el => {
                    if (el.type === 'text') {
                        ctx.font = `bold ${el.size}px ${el.font || 'Arial'}`;
                        ctx.fillStyle = el.color;
                        ctx.fillText(el.content, el.x, el.y);
                        // Borde de selecci√≥n
                        if (el.id === selectedId) {
                            ctx.strokeStyle = '#06b6d4';
                            ctx.lineWidth = 2;
                            const metrics = ctx.measureText(el.content);
                            ctx.strokeRect(el.x - 5, el.y - el.size, metrics.width + 10, el.size + 10);
                        }
                    } else if (el.type === 'image') {
                        const img = new Image();
                        img.src = el.content;
                        ctx.drawImage(img, el.x, el.y, el.size, el.size); // Simple resize
                        if (el.id === selectedId) {
                            ctx.strokeStyle = '#06b6d4';
                            ctx.lineWidth = 2;
                            ctx.strokeRect(el.x, el.y, el.size, el.size);
                        }
                    }
                });
            }, [baseImage, elements, selectedId]);

            useEffect(() => { drawCanvas(); }, [drawCanvas]);

            // Handlers
            const addText = () => {
                saveHistory();
                setElements([...elements, { id: Date.now(), type: 'text', content: 'TU TEXTO', x: 50, y: 100, size: 40, color: '#FFFFFF', font: 'Chakra Petch' }]);
            };

            const handleImageUpload = (e) => {
                const file = e.target.files[0];
                if (file) {
                    saveHistory();
                    const reader = new FileReader();
                    reader.onload = (f) => {
                        setElements([...elements, { id: Date.now(), type: 'image', content: f.target.result, x: 100, y: 100, size: 150 }]);
                    };
                    reader.readAsDataURL(file);
                }
            };

            const handleMouseDown = (e) => {
                const rect = canvasRef.current.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                
                // Detecci√≥n de clic muy b√°sica (mejorar hitboxes en V2)
                const clicked = elements.slice().reverse().find(el => {
                    return Math.abs(el.x - x) < 50 && Math.abs(el.y - y) < 50; // Hitbox aproximado
                });

                if (clicked) {
                    setSelectedId(clicked.id);
                    setDragging(true);
                } else {
                    setSelectedId(null);
                }
            };

            const handleMouseMove = (e) => {
                if (dragging && selectedId) {
                    const rect = canvasRef.current.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    
                    setElements(prev => prev.map(el => el.id === selectedId ? { ...el, x, y } : el));
                }
            };

            const handleMouseUp = () => setDragging(false);

            const updateSelected = (key, value) => {
                setElements(prev => prev.map(el => el.id === selectedId ? { ...el, [key]: value } : el));
            };

            const deleteSelected = () => {
                saveHistory();
                setElements(prev => prev.filter(el => el.id !== selectedId));
                setSelectedId(null);
            };

            const saveHistory = () => setHistory(prev => [...prev.slice(-5), elements]);
            const undo = () => {
                if (history.length > 0) {
                    const prev = history[history.length - 1];
                    setElements(prev);
                    setHistory(h => h.slice(0, -1));
                }
            };

            const downloadFinal = () => {
                const link = document.createElement('a');
                link.download = `CLICK_IA_MASTERPIECE_${Date.now()}.jpg`;
                link.href = canvasRef.current.toDataURL('image/jpeg', 0.95);
                link.click();
            };

            return (
                <div className="fixed inset-0 z-[100] flex items-center justify-center bg-black/95 p-4 fade-enter">
                    <div className="w-full max-w-6xl h-[90vh] flex border border-gray-800 rounded-xl overflow-hidden">
                        {/* Toolbar */}
                        <div className="w-64 bg-[#111] border-r border-gray-800 p-4 flex flex-col gap-4">
                            <h3 className="font-tech text-cyan-400 text-xl mb-4">NANO STUDIO</h3>
                            
                            <button onClick={addText} className="editor-btn"><Icons.Text /> Agregar Texto</button>
                            <label className="editor-btn cursor-pointer">
                                <Icons.Image /> Agregar Imagen
                                <input type="file" hidden onChange={handleImageUpload} />
                            </label>
                            
                            <div className="h-px bg-gray-800 my-2"></div>

                            {selectedId ? (
                                <div className="space-y-3 animate-pulse-fast">
                                    <p className="text-xs text-gray-500 uppercase">Propiedades</p>
                                    {elements.find(e => e.id === selectedId)?.type === 'text' && (
                                        <>
                                            <input className="glass-input text-xs" value={elements.find(e => e.id === selectedId).content} onChange={e => updateSelected('content', e.target.value)} />
                                            <div className="flex gap-2">
                                                <input type="color" className="bg-transparent h-8 w-8" onChange={e => updateSelected('color', e.target.value)} />
                                                <input type="range" min="10" max="100" onChange={e => updateSelected('size', e.target.value)} />
                                            </div>
                                            <select className="glass-input text-xs" onChange={e => updateSelected('font', e.target.value)}>
                                                <option value="Chakra Petch">Tech</option>
                                                <option value="Inter">Modern</option>
                                                <option value="Oswald">Bold</option>
                                                <option value="Playfair Display">Luxury</option>
                                            </select>
                                        </>
                                    )}
                                    {elements.find(e => e.id === selectedId)?.type === 'image' && (
                                        <input type="range" min="50" max="500" onChange={e => updateSelected('size', e.target.value)} />
                                    )}
                                    <button onClick={deleteSelected} className="w-full py-2 bg-red-900/50 text-red-400 rounded text-xs flex items-center justify-center gap-2"><Icons.Trash /> Eliminar</button>
                                </div>
                            ) : (
                                <p className="text-xs text-gray-600 text-center mt-10">Selecciona un elemento para editar</p>
                            )}

                            <div className="mt-auto flex gap-2">
                                <button onClick={undo} className="p-2 bg-gray-800 rounded hover:bg-gray-700"><Icons.Undo /></button>
                                <button onClick={onClose} className="flex-1 py-2 border border-gray-700 rounded text-xs">Salir</button>
                            </div>
                        </div>

                        {/* Canvas Area */}
                        <div className="flex-1 bg-[#050505] canvas-container flex items-center justify-center relative">
                            <canvas 
                                ref={canvasRef} 
                                width={600} height={600} 
                                className="bg-white shadow-2xl cursor-crosshair"
                                onMouseDown={handleMouseDown}
                                onMouseMove={handleMouseMove}
                                onMouseUp={handleMouseUp}
                                onMouseLeave={handleMouseUp}
                            />
                             <div className="absolute top-4 right-4">
                                <button onClick={downloadFinal} className="tech-btn bg-cyan-500 text-black border-none shadow-cyan-500/50">
                                    GUARDAR OBRA MAESTRA
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // --- APP PRINCIPAL ---
        const App = () => {
            const [view, setView] = useState('landing');
            const [user, setUser] = useState(null); 
            const [credits, setCredits] = useState(INITIAL_CREDITS);
            const [userCloud, setUserCloud] = useState([]);
            const [loadingText, setLoadingText] = useState('');
            const [progress, setProgress] = useState(0);
            const [generatedData, setGeneratedData] = useState(null);
            const [isEditing, setIsEditing] = useState(false);

            // Inputs Formulario
            const [formData, setFormData] = useState({ 
                target: '', product: '', promo: '', company: '', whatsapp: '', 
                style: '', inspiration: '' 
            });
            
            // Inputs Login
            const [email, setEmail] = useState('');
            const [apiKey, setApiKey] = useState('');

            // Persistencia
            useEffect(() => {
                const u = localStorage.getItem('clickia_user');
                if(u) {
                    setUser(JSON.parse(u));
                    setApiKey(localStorage.getItem('clickia_key') || '');
                    setUserCloud(JSON.parse(localStorage.getItem('clickia_cloud') || '[]'));
                }
            }, []);

            const handleLogin = () => {
                if(!email) return alert("Ingresa un email v√°lido");
                const newUser = { name: email.split('@')[0], email };
                setUser(newUser);
                localStorage.setItem('clickia_user', JSON.stringify(newUser));
                if(apiKey) localStorage.setItem('clickia_key', apiKey);
                setView('form');
            };

            const generate = async () => {
                if(!formData.style) return alert("Falta el estilo");
                setView('processing');
                
                // 1. CONSTRUIR PROMPT MAESTRO (Reingenier√≠a)
                const masterPrompt = `Professional commercial photography, 8k resolution, ${formData.style} style, ${formData.product}, cinematic lighting, highly detailed, clean composition, advertising standard, vivid colors, inspired by ${formData.inspiration || 'modern design'}, no text, clear background`;
                
                // 2. GENERAR URL (Pollinations sin logo)
                // Truco: A√±adir seed random y nologo=true
                const imgUrl = `https://image.pollinations.ai/prompt/${encodeURIComponent(masterPrompt)}?width=1080&height=1080&nologo=true&seed=${Math.random()}`;

                // 3. SIMULAR TIEMPO DE IA Y GEMINI
                const steps = ["Conectando con Gemini Pro...", "Analizando Mercado Global...", "Dise√±ando Estrategia Visual...", "Renderizando 8K (Nano Banana)...", "Finalizando..."];
                
                for (const step of steps) {
                    setLoadingText(step);
                    await new Promise(r => setTimeout(r, 800));
                    setProgress(p => p + 20);
                }

                // 4. GENERAR COPY (Fallback seguro si no hay API Key real)
                let copy = `¬°Atenci√≥n ${formData.target || 'todos'}! üöÄ\n\nDescubre ${formData.product}.\nüî• OFERTA: ${formData.promo || 'Por tiempo limitado'}\n\nüìç ${formData.company}\nüì≤ Pide aqu√≠: wa.me/${formData.whatsapp}\n\n#Viral #Trending #${formData.style}`;
                
                // INTENTO DE LLAMADA REAL A GEMINI (Si puso key)
                if(apiKey) {
                    try {
                        const res = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${apiKey}`, {
                            method: 'POST', headers: {'Content-Type': 'application/json'},
                            body: JSON.stringify({ contents: [{ parts: [{ text: `Escribe un copy corto y viral para instagram sobre ${formData.product}, oferta: ${formData.promo}. Usa emojis.` }] }] })
                        });
                        const data = await res.json();
                        if(data.candidates) copy = data.candidates[0].content.parts[0].text;
                    } catch(e) { console.log("Error API, usando fallback"); }
                }

                // 5. GUARDAR
                const newResult = { img: imgUrl, copy, date: new Date().toLocaleDateString(), music: VIRAL_SONGS };
                setGeneratedData(newResult);
                
                const newCloud = [newResult, ...userCloud];
                setUserCloud(newCloud);
                localStorage.setItem('clickia_cloud', JSON.stringify(newCloud));
                
                setView('result');
            };

            // RENDERIZADO
            return (
                <div className="min-h-screen w-full text-white font-sans selection:bg-cyan-500 selection:text-black">
                    
                    {/* HEADER */}
                    <div className="fixed top-0 w-full z-50 p-6 flex justify-between items-center pointer-events-none">
                        <div className="flex items-center gap-2 pointer-events-auto" onClick={() => setView('landing')}>
                            <Icons.Logo /> <span className="font-tech font-bold text-xl">CLICK.IA</span>
                        </div>
                        {user && (
                            <div className="flex gap-4 pointer-events-auto">
                                <button className="glass px-4 py-2 rounded-full text-xs font-bold flex items-center gap-2">
                                    <Icons.Cloud /> TU NUBE
                                </button>
                                <div className="glass px-4 py-2 rounded-full text-xs font-bold text-yellow-400 border border-yellow-500/30">
                                    {credits} CR√âDITOS
                                </div>
                            </div>
                        )}
                    </div>

                    {/* VISTAS */}
                    {view === 'landing' && (
                        <div className="h-screen flex flex-col items-center justify-center text-center p-4 fade-enter">
                            <div className="mb-6 inline-block px-4 py-1 rounded-full border border-cyan-500/30 bg-cyan-900/10 text-cyan-400 text-[10px] font-bold tracking-widest">V 5.0 GLOBAL EDITION</div>
                            <h1 className="text-6xl md:text-8xl font-black font-tech mb-6 leading-none">MARKETING<br/><span className="text-transparent bg-clip-text bg-gradient-to-b from-white to-gray-600">AUT√ìNOMO.</span></h1>
                            <p className="max-w-xl text-gray-400 mb-10">La primera suite de dise√±o impulsada por Gemini y Nano Banana. Crea campa√±as completas en segundos.</p>
                            <button onClick={() => setView(user ? 'form' : 'login')} className="tech-btn text-xl">EMPEZAR AHORA</button>
                            
                            {/* SECCI√ìN CREADOR */}
                            <div className="mt-20 flex items-center gap-6 glass p-6 rounded-2xl text-left max-w-2xl mx-auto">
                                <img src={CREATOR_IMAGE} className="w-24 h-24 rounded-full object-cover border-2 border-white/20" />
                                <div>
                                    <h4 className="font-bold font-tech text-lg">RODDY SMITH</h4>
                                    <p className="text-cyan-500 text-xs font-bold tracking-widest mb-2">FUNDADOR & CSIO</p>
                                    <p className="text-xs text-gray-400 italic">"Nuestra misi√≥n es romper las barreras de entrada. CLICK IA naci√≥ para cambiar el mundo, empoderando a cada emprendedor con tecnolog√≠a de gigantes."</p>
                                </div>
                            </div>
                        </div>
                    )}

                    {view === 'login' && (
                        <div className="h-screen flex items-center justify-center p-4 fade-enter">
                            <div className="w-full max-w-md glass p-10 rounded-2xl">
                                <h2 className="text-2xl font-bold font-tech mb-6">IDENTIFICACI√ìN</h2>
                                <div className="space-y-4">
                                    <div>
                                        <label className="text-xs font-bold text-gray-500 mb-1 block">CORREO ELECTR√ìNICO</label>
                                        <input className="glass-input" value={email} onChange={e => setEmail(e.target.value)} placeholder="tu@email.com" />
                                    </div>
                                    <div>
                                        <label className="text-xs font-bold text-gray-500 mb-1 block">GOOGLE API KEY (Opcional para poder real)</label>
                                        <input className="glass-input" type="password" value={apiKey} onChange={e => setApiKey(e.target.value)} placeholder="AIzaSy..." />
                                    </div>
                                    <button onClick={handleLogin} className="w-full tech-btn mt-4">CONECTAR</button>
                                </div>
                            </div>
                        </div>
                    )}

                    {view === 'form' && (
                        <div className="min-h-screen pt-24 pb-10 px-4 flex justify-center fade-enter">
                            <div className="w-full max-w-2xl space-y-8">
                                <h2 className="text-3xl font-black font-tech text-center">DISE√ëA TU CAMPA√ëA</h2>
                                
                                <div className="glass p-6 rounded-xl space-y-4">
                                    <input className="glass-input" placeholder="¬øQu√© producto es?" value={formData.product} onChange={e => setFormData({...formData, product: e.target.value})} />
                                    <div className="grid grid-cols-2 gap-4">
                                        <input className="glass-input" placeholder="Oferta/Promo" value={formData.promo} onChange={e => setFormData({...formData, promo: e.target.value})} />
                                        <input className="glass-input" placeholder="WhatsApp" value={formData.whatsapp} onChange={e => setFormData({...formData, whatsapp: e.target.value})} />
                                    </div>
                                    <input className="glass-input" placeholder="Nombre de Empresa" value={formData.company} onChange={e => setFormData({...formData, company: e.target.value})} />
                                    <textarea className="glass-input h-24" placeholder="Detalles extra o inspiraci√≥n..." value={formData.inspiration} onChange={e => setFormData({...formData, inspiration: e.target.value})} />
                                </div>

                                <div>
                                    <p className="text-xs font-bold text-gray-500 mb-2 uppercase">Estilo Visual</p>
                                    <div className="grid grid-cols-3 gap-2">
                                        {['Cinematic', 'Neon', 'Luxury', '3D Render', 'Minimalist', 'Cyberpunk'].map(s => (
                                            <button key={s} onClick={() => setFormData({...formData, style: s})} className={`p-3 rounded border text-xs font-bold ${formData.style === s ? 'bg-cyan-500 text-black border-cyan-500' : 'border-white/10 hover:bg-white/5'}`}>
                                                {s}
                                            </button>
                                        ))}
                                    </div>
                                </div>

                                <button onClick={generate} className="w-full tech-btn text-xl shadow-lg shadow-cyan-500/20">GENERAR (1 CR√âDITO)</button>
                            </div>
                        </div>
                    )}

                    {view === 'processing' && (
                        <div className="h-screen flex flex-col items-center justify-center fade-enter">
                            <div className="w-20 h-20 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin mb-8"></div>
                            <h2 className="text-2xl font-bold font-tech animate-pulse">{loadingText}</h2>
                            <div className="w-64 h-1 bg-gray-800 rounded-full mt-4 overflow-hidden">
                                <div className="h-full bg-cyan-500 transition-all duration-300" style={{ width: `${progress}%` }}></div>
                            </div>
                        </div>
                    )}

                    {view === 'result' && generatedData && (
                        <div className="min-h-screen pt-24 pb-10 px-4 flex flex-col items-center fade-enter">
                            <div className="w-full max-w-6xl grid md:grid-cols-2 gap-8">
                                
                                {/* COLUMNA VISUAL */}
                                <div className="space-y-4">
                                    <div className="glass p-2 rounded-xl border border-white/10 overflow-hidden relative group">
                                        <img src={generatedData.img} className="w-full rounded-lg shadow-2xl" />
                                        <div className="absolute inset-0 flex items-center justify-center bg-black/60 opacity-0 group-hover:opacity-100 transition-all cursor-pointer" onClick={() => setIsEditing(true)}>
                                            <div className="tech-btn flex items-center gap-2">
                                                <Icons.Edit /> ABRIR NANO STUDIO
                                            </div>
                                        </div>
                                    </div>
                                    <div className="flex gap-2">
                                        <button onClick={() => setIsEditing(true)} className="flex-1 py-3 border border-white/20 rounded text-xs font-bold hover:bg-white/10">EDITAR IMAGEN</button>
                                        <button onClick={() => setView('form')} className="flex-1 py-3 bg-white text-black rounded text-xs font-bold hover:bg-gray-200">NUEVA CAMPA√ëA</button>
                                    </div>
                                </div>

                                {/* COLUMNA ESTRATEGIA */}
                                <div className="space-y-6">
                                    
                                    {/* COPY */}
                                    <div className="glass p-6 rounded-xl border-l-4 border-purple-500">
                                        <div className="flex justify-between mb-4">
                                            <h3 className="font-bold font-tech text-purple-400 flex items-center gap-2"><Icons.Zap /> COPY VIRAL</h3>
                                            <button onClick={() => navigator.clipboard.writeText(generatedData.copy)} className="text-xs text-gray-400 hover:text-white"><Icons.Copy /> COPIAR</button>
                                        </div>
                                        <div className="copy-area">{generatedData.copy}</div>
                                    </div>

                                    {/* M√öSICA REAL */}
                                    <div className="glass p-6 rounded-xl border-l-4 border-green-500">
                                        <h3 className="font-bold font-tech text-green-400 mb-4 flex items-center gap-2"><Icons.Music /> TENDENCIAS MUSICALES</h3>
                                        <div className="space-y-4">
                                            {generatedData.music.map(m => (
                                                <div key={m.id} className="bg-black/30 p-3 rounded-lg">
                                                    <p className="text-xs font-bold mb-2 text-gray-300">{m.title}</p>
                                                    <div className="yt-embed-container">
                                                        <iframe src={`https://www.youtube.com/embed/${m.id}`} frameBorder="0" allowFullScreen></iframe>
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    </div>

                                    {/* SIMULADOR DE REDES */}
                                    <div className="bg-blue-600/10 border border-blue-500/30 p-4 rounded-xl">
                                        <p className="text-xs font-bold text-blue-400 mb-2 uppercase">Publicar en:</p>
                                        <div className="flex gap-2">
                                            {['Facebook', 'Instagram', 'TikTok'].map(net => (
                                                <button key={net} onClick={() => {
                                                    // Simulaci√≥n de Auth Oauth
                                                    const btn = document.getElementById(`btn-${net}`);
                                                    btn.innerText = "Conectando...";
                                                    setTimeout(() => { btn.innerText = "Error: API Key requerida"; btn.classList.add('text-red-400'); }, 1500);
                                                }} id={`btn-${net}`} className="flex-1 py-2 bg-black/40 rounded text-xs hover:bg-white/10 transition-all">
                                                    {net}
                                                </button>
                                            ))}
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    )}

                    {/* NANO STUDIO MODAL */}
                    {isEditing && generatedData && (
                        <NanoStudio 
                            baseImage={generatedData.img} 
                            onClose={() => setIsEditing(false)} 
                        />
                    )}

                    <div className="fixed bottom-4 w-full text-center pointer-events-none">
                        <p className="text-[10px] text-white/30 uppercase tracking-[0.3em] drop-shadow-md">"La creatividad es la inteligencia divirti√©ndose." - Albert Einstein</p>
                    </div>

                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>

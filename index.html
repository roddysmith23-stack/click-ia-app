<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CLICK IA - Enterprise Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;900&family=Chakra+Petch:wght@400;600;700&family=Oswald:wght@500&family=Playfair+Display:wght@600&family=Montserrat:wght@700&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.1/fabric.min.js"></script>
    
    <style>
        /* --- EST√âTICA CYBERPUNK ORIGINAL --- */
        body { background-color: #050505; color: white; font-family: 'Inter', sans-serif; overflow-x: hidden; }
        h1, h2, h3, .font-tech { font-family: 'Chakra Petch', sans-serif; }
        
        #bg-video {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            object-fit: cover; z-index: -1; opacity: 0.2;
            filter: contrast(1.2) brightness(0.5) hue-rotate(190deg) grayscale(0.5);
        }

        .glass { 
            background: rgba(15, 15, 20, 0.85); backdrop-filter: blur(20px); 
            border: 1px solid rgba(255, 255, 255, 0.08); box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5); 
        }
        .glass-card { 
            background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); 
            transition: all 0.3s ease; cursor: pointer; overflow: hidden; position: relative; border-radius: 16px;
        }
        .glass-card:hover { border-color: #06b6d4; transform: translateY(-5px); box-shadow: 0 10px 40px rgba(6, 182, 212, 0.2); }
        .glass-card.selected { border-color: #06b6d4; background: rgba(6, 182, 212, 0.15); box-shadow: 0 0 0 2px #06b6d4; transform: scale(1.02); }
        
        .card-label {
            position: absolute; bottom: 0; left: 0; width: 100%;
            background: linear-gradient(to top, rgba(0,0,0,0.95), rgba(0,0,0,0.6), transparent); 
            padding: 20px 10px 10px 10px; text-align: center; font-family: 'Chakra Petch'; text-transform: uppercase;
        }

        .tech-btn {
            background: white; color: black; font-weight: 900; text-transform: uppercase; letter-spacing: 0.05em;
            border-radius: 4px; padding: 14px 32px; transition: all 0.2s; cursor: pointer;
            clip-path: polygon(10% 0, 100% 0, 100% 70%, 90% 100%, 0 100%, 0 30%);
        }
        .tech-btn:hover { transform: translateY(-2px); box-shadow: 0 0 25px rgba(255, 255, 255, 0.3); }
        
        .editor-btn {
            background: #1a1a1a; color: white; font-weight: 600; font-family: 'Chakra Petch';
            border: 1px solid rgba(255,255,255,0.2); padding: 10px; border-radius: 8px;
            transition: all 0.2s; display: flex; align-items: center; justify-content: center; gap: 8px; font-size: 10px;
        }
        .editor-btn:hover { border-color: #06b6d4; background: rgba(6, 182, 212, 0.1); }

        .quiz-input {
            background: transparent; border: none; border-bottom: 2px solid rgba(255,255,255,0.2);
            width: 100%; padding: 20px; font-size: 1.5rem; color: white; text-align: center;
            font-family: 'Chakra Petch'; transition: all 0.3s;
        }
        .quiz-input:focus { outline: none; border-color: #06b6d4; background: rgba(6, 182, 212, 0.05); }

        .glass-input {
            background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2);
            color: white; font-family: 'Chakra Petch'; padding: 12px; width: 100%; border-radius: 8px;
        }
        .glass-input:focus { outline: none; border-color: #06b6d4; background: rgba(255, 255, 255, 0.15); }

        /* Utilidades */
        .clip-path-slanted { clip-path: polygon(10% 0, 100% 0, 100% 80%, 90% 100%, 0 100%, 0 20%); }
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
        
        .fade-enter { animation: fadeIn 0.5s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .color-check { width: 40px; height: 40px; border-radius: 10px; cursor: pointer; border: 2px solid rgba(255,255,255,0.1); transition: transform 0.2s; position: relative;}
        .color-check.selected { border-color: white; transform: scale(1.15); box-shadow: 0 0 15px rgba(255,255,255,0.3); }
        
        /* ESTILOS CEO */
        .ceo-photo-style {
            width: 100%; height: 100%; object-fit: cover;
            filter: grayscale(100%) contrast(1.2);
            transition: all 0.5s ease;
        }
        .ceo-photo-wrapper:hover .ceo-photo-style {
            filter: grayscale(0%) contrast(1);
            transform: scale(1.05);
        }

        /* CANVAS WRAPPER PARA FABRIC.JS */
        .canvas-wrapper {
            width: 100%; height: 100%; display: flex; justify-content: center; align-items: center;
            background-image: radial-gradient(#333 1px, transparent 1px); background-size: 20px 20px;
        }
    </style>
</head>
<body>
    <video id="bg-video" autoplay loop muted playsinline>
        <source src="https://cdn.pixabay.com/video/2020/12/18/59791-494669276_large.mp4" type="video/mp4">
    </video>

    <audio id="bg-music" loop src="https://cdn.pixabay.com/download/audio/2022/05/17/audio_1832016087.mp3"></audio>
    <audio id="sfx-click" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_c8c8a7346b.mp3"></audio>
    <audio id="sfx-process" src="https://cdn.pixabay.com/download/audio/2022/03/24/audio_c2b3b469b7.mp3"></audio>
    <audio id="sfx-success" src="https://cdn.pixabay.com/download/audio/2022/01/18/audio_1728e273c4.mp3"></audio>

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useCallback } = React;

        // --- CONSTANTES ---
        const MAGIC_RESULT_IMAGE_DEFAULT = "https://images.unsplash.com/photo-1550547660-d9450f859349?q=80&w=2865"; 
        const UGLY_BURGER_IMAGE = "https://images.unsplash.com/photo-1568901346375-23c9450c58cd?q=80&w=2799"; 
        const INITIAL_CREDITS = 3;

        // --- ICONOS ---
        const Icons = {
            Logo: () => <svg width="32" height="32" viewBox="0 0 100 100" fill="none"><path d="M50 10L90 80C90 80 70 70 50 70C30 70 10 80 10 80L50 10Z" fill="white"/></svg>,
            Google: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="white"><path d="M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z"/></svg>,
            Upload: () => <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>,
            Zap: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>,
            Check: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#4ade80" strokeWidth="3"><polyline points="20 6 9 17 4 12"/></svg>,
            ChevronLeft: () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="15 18 9 12 15 6"/></svg>,
            Volume2: () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path></svg>,
            VolumeX: () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line></svg>,
            Instagram: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/></svg>,
            Tiktok: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5"/></svg>,
            Facebook: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/></svg>,
            Music: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></svg>,
            Clock: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>,
            Download: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>,
            Lock: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>,
            X: () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>,
            Play: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><polygon points="5 3 19 12 5 21 5 3"/></svg>,
            Pause: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>,
            Star: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="gold" strokeWidth="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>,
            ChevronDown: () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="6 9 12 15 18 9"/></svg>,
            Video: () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polygon points="23 7 16 12 23 17 23 7"/><rect x="1" y="5" width="15" height="14" rx="2" ry="2"/></svg>,
            Sliders: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="4" y1="21" x2="4" y2="14"/><line x1="4" y1="10" x2="4" y2="3"/><line x1="12" y1="21" x2="12" y2="12"/><line x1="12" y1="8" x2="12" y2="3"/><line x1="20" y1="21" x2="20" y2="16"/><line x1="20" y1="12" x2="20" y2="3"/><line x1="1" y1="14" x2="7" y2="14"/><line x1="9" y1="8" x2="15" y2="8"/><line x1="17" y1="16" x2="23" y2="16"/></svg>,
            Credit: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.15-1.46-3.27-3.4h1.96c.1 1.05 1.18 1.91 2.53 1.91 1.38 0 2.36-.83 2.36-1.9 0-1.07-.69-1.58-2.61-2.17-2.24-.68-3.37-1.62-3.37-3.43 0-1.73 1.37-3.1 3.07-3.44V3.98h2.67v1.96c1.56.35 2.76 1.54 2.91 3.14h-1.98c-.13-1.01-1.02-1.68-2.18-1.68-1.24 0-2.15.79-2.15 1.8 0 .95.63 1.46 2.36 2.01 2.43.77 3.62 1.74 3.62 3.62 0 1.9-1.42 3.09-3.23 3.26z"/></svg>,
            Copy: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>,
            Logout: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>,
            Cloud: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"/></svg>,
            Edit: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>,
            Save: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg>,
            Key: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"/></svg>,
            Text: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="4 7 4 4 20 4 20 7"/><line x1="9" y1="20" x2="15" y2="20"/><line x1="12" y1="4" x2="12" y2="20"/></svg>,
            Image: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>,
            Undo: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M3 7v6h6"/><path d="M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"/></svg>,
            Trash: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>
        };

        // --- DATOS ---
        const STYLES_DATA = [
            { id: 'realistic', img: 'https://images.unsplash.com/photo-1550751827-4bd374c3f58b?q=80&w=400', music: 'Lofi Chill' },
            { id: 'cinematic', img: 'https://images.unsplash.com/photo-1536440136628-849c177e76a1?q=80&w=400', music: 'Epic Orchestral' }, 
            { id: 'luxury', img: 'https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=400', music: 'Jazz Lounge' },
            { id: 'neon', img: 'https://images.unsplash.com/photo-1555212697-194d092e3b8f?q=80&w=400', music: 'Synthwave' },
            { id: '3d', img: 'https://images.unsplash.com/photo-1633356122544-f134324a6cee?q=80&w=400', music: 'Happy Pop' },
            { id: 'cyber', img: 'https://images.unsplash.com/photo-1515630278258-407f66498911?q=80&w=400', music: 'Dark Techno' }
        ];

        const LIGHTING_DATA = [
            { id: 'studio', img: 'https://images.unsplash.com/photo-1550751827-4bd374c3f58b?q=80&w=400' },
            { id: 'neon', img: 'https://images.unsplash.com/photo-1563089145-599997674d42?q=80&w=400' },
            { id: 'golden', img: 'https://images.unsplash.com/photo-1477346611705-65d1883cee1e?q=80&w=400' },
            { id: 'dramatic', img: 'https://images.unsplash.com/photo-1492633423870-43d1cd2775eb?q=80&w=400' }
        ];

        const COLOR_GROUPS = {
            "NEUTROS": ["#FFFFFF", "#000000", "#F5F5F5", "#D3D3D3", "#808080", "#333333"],
            "NUDE": ["#E3D1C4", "#D7B8A3", "#C7A188", "#B88E76", "#A87F63", "#8D6E55", "#6F4F1D", "#5D4037", "#3E2723"],
            "PRIMARIOS": ["#FF0000", "#0000FF", "#FFFF00"],
            "SECUNDARIOS": ["#00FF00", "#FFA500", "#800080"],
            "TERCIARIOS": ["#FF4500", "#FFD700", "#ADFF2F", "#00CED1", "#8A2BE2", "#C71585"],
            "CUATERNARIOS": ["#800000", "#808000", "#008080", "#000080"]
        };

        const REAL_MUSIC_IDS = [
            { title: "Epic Cinematic", id: "p7Z9y8eZtMc" }, 
            { title: "Corporate Upbeat", id: "3y3r2p7kC_k" },
            { title: "Fashion House", id: "n61ULEU7CO0" } 
        ];

        const BEST_TIMES = [
            { icon: <Icons.Instagram />, platform: "Instagram", time: "18:30", day: "Hoy" },
            { icon: <Icons.Tiktok />, platform: "TikTok", time: "20:00", day: "Hoy" },
            { icon: <Icons.Facebook />, platform: "Facebook", time: "09:00", day: "Ma√±ana" }
        ];

        const TRANSLATIONS = {
            ES: {
                enter: "INGRESAR", prices: "VER PRECIOS", faq: "PREGUNTAS",
                powered: "Powered by Gemini",
                hero_mk: "EL FUTURO DEL MARKETING", hero_auto: "PARA EMPRESAS.",
                bullets: ['√öltima Tecnolog√≠a', 'Velocidad Luz', 'Neuromarketing', 'Ahorro Total', 'Experto en Ventas'],
                cta_trial: "RECIBE UNA PRUEBA GRATIS", cta_posts: "GENERA 50 POST AL MES",
                setup_title: "IDENTIFICACI√ìN", setup_desc: "Ingresa tus datos para conectar tu cuenta.", setup_btn: "CONECTAR Y ENTRAR",
                lbl_email: "TU CORREO ELECTR√ìNICO", ph_email: "ejemplo@empresa.com",
                lbl_api: "TU GOOGLE GEMINI API KEY", ph_api: "Pega tu clave AIza...",
                upload_title: "Fase 1: Carga de Activos", upload_prod: "PRODUCTO", upload_logo: "LOGOTIPO", next: "SIGUIENTE",
                q1_title: "¬øQUI√âN ES TU CLIENTE?", q1_ph: "Ej: Mujeres j√≥venes, deportistas...",
                q2_title: "DETALLES DEL PRODUCTO", q2_p1: "¬øQu√© vendes? (Ej: Hamburguesa)", q2_p2: "Precio ($)", q2_p3: "Promoci√≥n (Opcional)",
                q3_title: "DATOS DE EMPRESA", q3_p1: "Nombre de tu empresa...", q3_p2: "WhatsApp (593...)",
                q4_title: "TU INSPIRACI√ìN", q4_ph1: "Ej: Apple, Nike...", q4_upload: "O Sube una foto de referencia", q4_change: "Cambiar Imagen",
                q5_title: "PALETA DE COLORES", style_title: "ELIGE EL ESTILO", light_title: "ILUMINACI√ìN",
                google_data: "Google Data Pro", google_desc: "Usar datos reales de b√∫squeda",
                gen_btn: "GENERAR CAMPA√ëA", processing: "PROCESANDO DATOS...", result_title: "RESULTADOS",
                viral_score: "Viral Score", viral_desc: "Alto potencial de alcance org√°nico detectado.",
                schedule: "Cronograma IA", copy_viral: "Copy Viral", star_text: "TEXTO ESTRELLA ‚òÖ",
                trends: "Tendencias Detectadas", publish: "PUBLICAR AHORA", new_btn: "NUEVO", ready: "LISTO",
                credits: "CR√âDITOS", color_n: "NEUTROS", color_nu: "NUDE", color_p: "PRIMARIOS", color_s: "SECUNDARIOS", color_t: "TERCIARIOS", color_q: "CUATERNARIOS",
                loading_steps: ["BUSCANDO EN LA WEB...", "ANALIZANDO TENDENCIAS...", "ESTRUCTURANDO ESTRATEGIA...", "GENERANDO IMAGEN 8K...", "REDACTANDO COPY VIRAL..."],
                credit_text: '"La creatividad es la inteligencia divirti√©ndose." - Albert Einstein',
                creator_title: "NUESTRO CREADOR", creator_role: "CO-FOUNDER & CSIO", creator_bio: "Visionario estrat√©gico con dominio total de la IA y el algoritmo. Roddy Smith no solo predice el futuro del marketing, lo est√° construyendo.",
                creator_mission: "Nuestra misi√≥n es romper las barreras de entrada. CLICK IA naci√≥ para cambiar el mundo, empoderando a cada emprendedor con la tecnolog√≠a que antes solo ten√≠an los gigantes.",
                download: "DESCARGAR IMAGEN", copy_clipboard: "COPIAR TEXTO",
                cloud_welcome: "BIENVENIDO A TU NUBE", cloud_desc: "Aqu√≠ guardamos todas tus campa√±as.",
                edit_design: "üõ†Ô∏è ABRIR NANO-STUDIO", editor_title: "NANO-STUDIO", save_design: "GUARDAR DISE√ëO", close_editor: "CERRAR",
                edit_text_1: "Texto Principal", edit_text_2: "Subt√≠tulo", edit_size: "Tama√±o Logo",
                default_promo: "Por tiempo limitado",
                copy_headline: "¬øListo para el siguiente nivel?", copy_body_1: "No es solo", copy_body_2: "Es una experiencia.", 
                copy_offer: "Oferta exclusiva:", copy_cta: "üì≤ Haz tu pedido aqu√≠:",
                plans: "PLANES", p_names: ["PRINCIPIANTE", "EMPRESA", "AGENCIA"], p_subs: ["MENSUAL", "PAGO √öNICO 1 A√ëO", "PAGO √öNICO"], rec: "RECOMENDADO", buy: "COMPRAR AHORA", sel: "SELECCIONAR", f_1: ["1 Mes de Servicio", "4K High Definition", "50 Post Mensuales"], f_2: ["1 A√ëO de Servicio", "8K High Definition", "100 Post Mensuales", "Soporte VIP"], f_3: ["1 Mes de Servicio", "8K High Definition", "Ilimitado", "Marca Blanca"], faq_title: "PREGUNTAS FRECUENTES", q1: "¬øQU√â ES MARKETING?", a1: "El Marketing no es vender. Es que te elijan.", q2: "¬øPARA QUE SIRVE LA APP?", a2: "Click IA clona el cerebro de los mejores publicistas.", q3: "¬øQU√â GANO CON LA APP?", a3: "Ganas tiempo y calidad mundial.", before: "Antes", after: "Despu√©s",
                s_realistic: 'Fotorealismo', s_cinematic: 'Cinem√°tico', s_luxury: 'Lujo Minimal', s_neon: 'Neon Pop', s_3d: '3D Pixar', s_cyber: 'Cyberpunk',
                l_studio: 'Luz de Estudio', l_studio_desc: 'Frontal Suave',
                l_neon: 'Ne√≥n', l_neon_desc: 'Lateral Color',
                l_golden: 'Hora Dorada', l_golden_desc: 'Trasera Solar',
                l_dramatic: 'Cinem√°tico', l_dramatic_desc: 'Contraste Alto'
            },
            EN: {
                enter: "LOGIN", prices: "PRICING", faq: "FAQ",
                powered: "Powered by Gemini",
                hero_mk: "THE FUTURE OF MARKETING", hero_auto: "FOR BUSINESSES.",
                bullets: ['Latest Tech', 'Light Speed', 'Neuromarketing', 'Total Savings', 'Sales Expert'],
                cta_trial: "GET A FREE TRIAL", cta_posts: "GENERATE 50 POSTS/MO",
                setup_title: "IDENTIFICATION", setup_desc: "Enter your details to connect.", setup_btn: "CONNECT & ENTER",
                lbl_email: "YOUR EMAIL", ph_email: "ex@company.com",
                lbl_api: "YOUR GOOGLE GEMINI API KEY", ph_api: "Paste your AIza key...",
                upload_title: "Phase 1: Asset Upload", upload_prod: "PRODUCT", upload_logo: "LOGO", next: "NEXT",
                q1_title: "WHO IS YOUR CLIENT?", q1_ph: "Ex: Young women...",
                q2_title: "PRODUCT DETAILS", q2_p1: "What do you sell?", q2_p2: "Price", q2_p3: "Promo",
                q3_title: "COMPANY DATA", q3_p1: "Company Name", q3_p2: "WhatsApp",
                q4_title: "YOUR INSPIRATION", q4_ph1: "Ex: Apple...", q4_upload: "Or Upload reference", q4_change: "Change Image",
                q5_title: "COLOR PALETTE", style_title: "CHOOSE STYLE", light_title: "LIGHTING",
                google_data: "Google Data Pro", google_desc: "Use real search data",
                gen_btn: "GENERATE CAMPAIGN", processing: "PROCESSING DATA...", result_title: "RESULTS",
                viral_score: "Viral Score", viral_desc: "High organic reach potential detected.",
                schedule: "AI Schedule", copy_viral: "Viral Copy", star_text: "STAR TEXT ‚òÖ",
                trends: "Detected Trends", publish: "PUBLISH NOW", new_btn: "NEW", ready: "READY",
                credits: "CREDITS", color_n: "NEUTRALS", color_nu: "NUDE", color_p: "PRIMARY", color_s: "SECONDARY", color_t: "TERTIARY", color_q: "QUATERNARY",
                loading_steps: ["SEARCHING WEB...", "ANALIZANDO TENDENCIAS...", "ESTRUCTURANDO ESTRATEGIA...", "GENERANDO IMAGEN 8K...", "REDACTANDO COPY VIRAL..."],
                credit_text: '"Creativity is intelligence having fun." - Albert Einstein',
                creator_title: "MEET THE CREATOR", creator_role: "CO-FOUNDER & CSIO", creator_bio: "Strategic visionary mastering AI and algorithms. Roddy Smith isn't just predicting the future of marketing, he is building it.", creator_mission: "Our mission is to shatter entry barriers. CLICK IA was born to change the world, empowering every entrepreneur with tech once reserved for giants.",
                download: "DOWNLOAD IMAGE", copy_clipboard: "COPY TEXT",
                cloud_welcome: "WELCOME TO YOUR CLOUD", cloud_desc: "All your campaigns are safe here.",
                edit_design: "üõ†Ô∏è OPEN NANO-STUDIO", editor_title: "NANO-STUDIO", save_design: "SAVE DESIGN", close_editor: "CLOSE",
                edit_text_1: "Main Text", edit_text_2: "Subtitle", edit_size: "Logo Size",
                default_promo: "Limited time only",
                copy_headline: "Ready for the next level?", copy_body_1: "It's not just", copy_body_2: "It's an experience.", 
                copy_offer: "Exclusive offer:", copy_cta: "üì≤ Order here:",
                plans: "PLANES", p_names: ["BEGINNER", "BUSINESS", "AGENCY"], p_subs: ["MONTHLY", "ONE TIME 1 YEAR", "ONE TIME PAYMENT"], rec: "RECOMMENDED", buy: "BUY NOW", sel: "SELECT", f_1: ["1 Month Service", "4K High Definition", "50 Posts Monthly"], f_2: ["1 YEAR Service", "8K High Definition", "100 Posts Monthly", "VIP Support"], f_3: ["1 Month Service", "8K High Definition", "Unlimited", "White Label"], faq_title: "FREQUENT QUESTIONS", q1: "WHAT IS MARKETING?", a1: "Marketing is not selling.", q2: "WHAT IS THE APP FOR?", a2: "Click IA clones...", q3: "WHAT DO I GAIN?", a3: "You gain 6 hours...", before: "Before", after: "After",
                s_realistic: 'Photorealism', s_cinematic: 'Cinematic', s_luxury: 'Minimal Luxury', s_neon: 'Neon Pop', s_3d: '3D Pixar', s_cyber: 'Cyberpunk',
                l_studio: 'Studio Light', l_studio_desc: 'Soft Frontal',
                l_neon: 'Neon', l_neon_desc: 'Side Color',
                l_golden: 'Golden Hour', l_golden_desc: 'Back Sun',
                l_dramatic: 'Cinematic', l_dramatic_desc: 'High Contrast'
            },
            ZH: {
                enter: "ÁôªÂΩï", prices: "‰ª∑Ê†º", faq: "Â∏∏ÈóÆÈóÆÈ¢ò",
                powered: "Powered by Gemini",
                hero_mk: "Ëê•ÈîÄÁöÑÊú™Êù•", hero_auto: "Èù¢Âêë‰ºÅ‰∏ö.",
                bullets: ['ÊúÄÊñ∞ÊäÄÊúØ', 'ÂÖâÈÄü', 'Á•ûÁªèËê•ÈîÄ', 'ÂÆåÂÖ®ËäÇÁúÅ', 'ÈîÄÂîÆ‰∏ìÂÆ∂'],
                cta_trial: "Ëé∑ÂæóÂÖçË¥πËØïÁî®", cta_posts: "ÊØèÊúàÁîüÊàê50‰∏™Â∏ñÂ≠ê",
                setup_title: "Ë∫´‰ªΩËØÜÂà´", setup_desc: "ËæìÂÖ•ÊÇ®ÁöÑËØ¶ÁªÜ‰ø°ÊÅØ‰ª•ËøûÊé•„ÄÇ", setup_btn: "ËøûÊé•Âπ∂ËøõÂÖ•",
                lbl_email: "ÊÇ®ÁöÑÁîµÂ≠êÈÇÆ‰ª∂", ph_email: "ex@company.com",
                lbl_api: "ÊÇ®ÁöÑ GOOGLE GEMINI API ÂØÜÈí•", ph_api: "Á≤òË¥¥ÊÇ®ÁöÑ AIza ÂØÜÈí•...",
                upload_title: "Á¨¨‰∏ÄÈò∂ÊÆµÔºöËµÑ‰∫ß‰∏ä‰º†", upload_prod: "‰∫ßÂìÅ", upload_logo: "Ê†áÂøó", next: "‰∏ã‰∏ÄÊ≠•",
                q1_title: "Ë∞ÅÊòØ‰Ω†ÁöÑÂÆ¢Êà∑Ôºü", q1_ph: "‰æãÂ¶ÇÔºöÂπ¥ËΩªÂ•≥ÊÄßÔºåËøêÂä®Âëò...",
                q2_title: "‰∫ßÂìÅËØ¶ÊÉÖ", q2_p1: "‰Ω†Âçñ‰ªÄ‰πàÔºüÔºà‰æãÂ¶ÇÔºöÊ±âÂ†°Ôºâ", q2_p2: "‰ª∑Ê†º ($)", q2_p3: "‰øÉÈîÄÔºàÂèØÈÄâÔºâ",
                q3_title: "ÂÖ¨Âè∏Êï∞ÊçÆ", q3_p1: "ÂÖ¨Âè∏ÂêçÁß∞...", q3_p2: "WhatsApp (593...)",
                q4_title: "‰Ω†ÁöÑÁÅµÊÑü", q4_ph1: "‰æãÂ¶ÇÔºöApple, Nike...", q4_upload: "Êàñ‰∏ä‰º†ÂèÇËÄÉÁÖßÁâá", q4_change: "Êõ¥ÊîπÂõæÁâá",
                q5_title: "Ë∞ÉËâ≤Êùø", style_title: "ÈÄâÊã©È£éÊ†º", light_title: "ÁÅØÂÖâ",
                google_data: "Google Data Pro", google_desc: "‰ΩøÁî®ÁúüÂÆûÊêúÁ¥¢Êï∞ÊçÆ",
                gen_btn: "ÁîüÊàêÊ¥ªÂä®", processing: "Â§ÑÁêÜÊï∞ÊçÆ...", result_title: "ÁªìÊûú",
                viral_score: "ÁóÖÊØíËØÑÂàÜ", viral_desc: "Ê£ÄÊµãÂà∞È´òÊúâÊú∫Ë¶ÜÁõñÊΩúÂäõ„ÄÇ",
                schedule: "AI Êó∂Èó¥Ë°®", copy_viral: "ÁóÖÊØíÂºèÊñáÊ°à", star_text: "ÊòüÁ∫ßÊñáÊú¨ ‚òÖ",
                trends: "Ê£ÄÊµãÂà∞ÁöÑË∂ãÂäø", publish: "Á´ãÂç≥ÂèëÂ∏É", new_btn: "Êñ∞Âª∫", ready: "ÂáÜÂ§áÂ•Ω",
                credits: "Â≠¶ÂàÜ", color_n: "‰∏≠ÊÄßËâ≤", color_nu: "Ë£∏Ëâ≤", color_p: "ÂéüËâ≤", color_s: "‰∫åÊ¨°Ëâ≤", color_t: "‰∏âÊ¨°Ëâ≤", color_q: "ÂõõÊ¨°Ëâ≤",
                loading_steps: ["ÊêúÁ¥¢ÁΩëÁªú...", "ÂàÜÊûêË∂ãÂäø...", "ÊûÑÂª∫Á≠ñÁï•...", "ÁîüÊàê 8K ÂõæÂÉè...", "ÁºñÂÜôÁóÖÊØíÂºèÊñáÊ°à..."],
                credit_text: '"ÂàõÊÑèÊòØÊô∫ÊÖßÂú®Áé©ËÄç„ÄÇ" - Albert Einstein',
                creator_title: "ÈÅáËßÅÂàõ‰ΩúËÄÖ", creator_role: "ËÅîÂêàÂàõÂßã‰∫∫ & È¶ñÂ∏≠ÊàòÁï•ÂÆò", creator_bio: "ÊéåÊè°‰∫∫Â∑•Êô∫ËÉΩÂíåÁÆóÊ≥ïÁöÑÊàòÁï•ËøúËßÅËÄÖ„ÄÇRoddy Smith ‰∏ç‰ªÖ‰ªÖÊòØÂú®È¢ÑÊµãËê•ÈîÄÁöÑÊú™Êù•Ôºå‰ªñÊ≠£Âú®ÂàõÈÄ†ÂÆÉ„ÄÇ", creator_mission: "Êàë‰ª¨ÁöÑ‰ΩøÂëΩÊòØÊâìÁ†¥ËøõÂÖ•Â£ÅÂûí„ÄÇCLICK IA ÁöÑËØûÁîüÊòØ‰∏∫‰∫ÜÊîπÂèò‰∏ñÁïåÔºåÁî®ÊõæÁªèÂè™ÊúâÂ∑®Â§¥ÊâçÊã•ÊúâÁöÑÊäÄÊúØËµã‰∫àÊØè‰∏Ä‰Ωç‰ºÅ‰∏öÂÆ∂ÊùÉÂäõ„ÄÇ",
                download: "‰∏ãËΩΩÂõæÁâá", copy_clipboard: "Â§çÂà∂ÊñáÊú¨",
                cloud_welcome: "Ê¨¢ËøéÊù•Âà∞ÊÇ®ÁöÑ‰∫ë", cloud_desc: "ÊÇ®ÁöÑÊâÄÊúâÊ¥ªÂä®ÈÉΩÂú®ËøôÈáåÂÆâÂÖ®„ÄÇ",
                edit_design: "üõ†Ô∏è ÊâìÂºÄËÆæËÆ°Â∑•‰ΩúÂÆ§", editor_title: "Á∫≥Á±≥Â∑•‰ΩúÂÆ§", save_design: "‰øùÂ≠òËÆæËÆ°", close_editor: "ÂÖ≥Èó≠",
                edit_text_1: "‰∏ªË¶ÅÊñáÊú¨", edit_text_2: "ÂâØÊ†áÈ¢ò", edit_size: "Ê†áÂøóÂ∞∫ÂØ∏",
                default_promo: "ÈôêÊó∂‰ºòÊÉ†",
                copy_headline: "ÂáÜÂ§áÂ•ΩËøõÂÖ•‰∏ã‰∏Ä‰∏™Â±ÇÁ∫ß‰∫ÜÂêóÔºü", copy_body_1: "Ëøô‰∏ç‰ªÖ‰ªÖÊòØ", copy_body_2: "ËøôÊòØ‰∏ÄÁßç‰ΩìÈ™å„ÄÇ", 
                copy_offer: "Áã¨ÂÆ∂‰ºòÊÉ†Ôºö", copy_cta: "üì≤ Âú®Ê≠§‰∏ãÂçïÔºö",
                plans: "PLANES", p_names: ["ÂàùÂ≠¶ËÄÖ", "‰ºÅ‰∏ö", "‰ª£ÁêÜÊú∫ÊûÑ"], p_subs: ["ÊúàÂàä", "‰∏ÄÊ¨°ÊÄß 1 Âπ¥", "‰∏ÄÊ¨°ÊÄß‰ªòÊ¨æ"], rec: "Êé®Ëçê", buy: "Á´ãÂç≥Ë¥≠‰π∞", sel: "ÈÄâÊã©", f_1: ["1‰∏™ÊúàÊúçÂä°", "4KÈ´òÊ∏Ö", "ÊØèÊúà50‰∏™Â∏ñÂ≠ê"], f_2: ["1Âπ¥ÊúçÂä°", "8KÈ´òÊ∏Ö", "ÊØèÊúà100‰∏™Â∏ñÂ≠ê", "VIPÊîØÊåÅ"], f_3: ["1‰∏™ÊúàÊúçÂä°", "8KÈ´òÊ∏Ö", "Êó†Èôê", "ÁôΩÊ†á"], faq_title: "Â∏∏ÈóÆÈóÆÈ¢ò", q1: "‰ªÄ‰πàÊòØËê•ÈîÄÔºü", a1: "Ëê•ÈîÄ‰∏çÊòØÈîÄÂîÆ...", q2: "ËØ•Â∫îÁî®Á®ãÂ∫èÊúâ‰ªÄ‰πàÁî®Ôºü", a2: "Click IA...", q3: "ÊàëËÉΩÂæóÂà∞‰ªÄ‰πàÔºü", a3: "‰Ω†Ëµ¢Âæó‰∫Ü...", before: "Ââç", after: "Âêé",
                s_realistic: 'ÂÜôÂÆû‰∏ª‰πâ', s_cinematic: 'ÁîµÂΩ±ÊÑü', s_luxury: 'ÊûÅÁÆÄÂ•¢Âçé', s_neon: 'ÈúìËôπÊµÅË°å', s_3d: '3DÁöÆÂÖãÊñØ', s_cyber: 'ËµõÂçöÊúãÂÖã',
                l_studio: 'ÊëÑÂΩ±Ê£öÂÖâ', l_studio_desc: 'ÊüîÂíåÊ≠£Èù¢',
                l_neon: 'ÈúìËôπ', l_neon_desc: '‰æßÈù¢Ëâ≤ÂΩ©',
                l_golden: 'ÈªÑÈáëÊó∂Âàª', l_golden_desc: 'ÈÄÜÂÖâ',
                l_dramatic: 'ÁîµÂΩ±ÊÑü', l_dramatic_desc: 'È´òÂØπÊØîÂ∫¶'
            },
            FR: {
                enter: "S'IDENTIFIER", prices: "TARIFS", faq: "FAQ",
                powered: "Powered by Gemini",
                hero_mk: "L'AVENIR DU MARKETING", hero_auto: "POUR LES ENTREPRISES.",
                bullets: ['Derni√®re Tech', 'Vitesse Lumi√®re', 'Neuromarketing', '√âconomies Totales', 'Expert Vente'],
                cta_trial: "ESSAI GRATUIT", cta_posts: "G√âN√âREZ 50 POSTS/MOIS",
                setup_title: "IDENTIFICATION", setup_desc: "Entrez vos coordonn√©es pour vous connecter.", setup_btn: "CONNECTER & ENTRER",
                lbl_email: "VOTRE EMAIL", ph_email: "ex@company.com",
                lbl_api: "VOTRE CL√â API GOOGLE GEMINI", ph_api: "Collez votre cl√© AIza...",
                upload_title: "Phase 1 : Chargement des actifs", upload_prod: "PRODUIT", upload_logo: "LOGO", next: "SUIVANT",
                q1_title: "QUI EST VOTRE CLIENT ?", q1_ph: "Ex : Jeunes femmes, sportives...",
                q2_title: "D√âTAILS DU PRODUIT", q2_p1: "Que vendez-vous ? (Ex : Burger)", q2_p2: "Prix ($)", q2_p3: "Promotion (Optionnel)",
                q3_title: "DONN√âES DE L'ENTREPRISE", q3_p1: "Nom de votre entreprise...", q3_p2: "WhatsApp (593...)",
                q4_title: "VOTRE INSPIRATION", q4_ph1: "Ex : Apple, Nike...", q4_upload: "Ou t√©l√©chargez une photo", q4_change: "Changer l'image",
                q5_title: "PALETTE DE COULEURS", style_title: "CHOISISSEZ LE STYLE", light_title: "√âCLAIRAGE",
                google_data: "Google Data Pro", google_desc: "Utiliser des donn√©es r√©elles",
                gen_btn: "G√âN√âRER CAMPAGNE", processing: "TRAITEMENT DES DONN√âES...", result_title: "R√âSULTATS",
                viral_score: "Score Viral", viral_desc: "Haut potentiel de port√©e organique d√©tect√©.",
                schedule: "Calendrier IA", copy_viral: "Copy Viral", star_text: "TEXTE STAR ‚òÖ",
                trends: "Tendances D√©tect√©es", publish: "PUBLIER MAINTENANT", new_btn: "NOUVEAU", ready: "PR√äT",
                credits: "CR√âDITS", color_n: "NEUTRES", color_nu: "NUDE", color_p: "PRIMAIRES", color_s: "SECONDAIRES", color_t: "TERTIAIRES", color_q: "QUATERNAIRES",
                loading_steps: ["RECHERCHE WEB...", "ANALYSE TENDANCES...", "STRUCTURATION STRAT√âGIE...", "G√âN√âRATION IMAGE 8K...", "REDACTANDO COPY VIRAL..."],
                credit_text: '"La cr√©ativit√©, c\'est l\'intelligence qui s\'amuse." - Albert Einstein',
                creator_title: "RENCONTREZ LE CR√âATEUR", creator_role: "CO-FONDATEUR & CSIO", creator_bio: "Visionnaire strat√©gique ma√Ætrisant l'IA et les algorithmes. Roddy Smith ne se contente pas de pr√©dire l'avenir du marketing, il le construit.", creator_mission: "Notre mission est de briser les barri√®res. CLICK IA est n√© pour changer le monde, en donnant √† chaque entrepreneur la technologie autrefois r√©serv√©e aux g√©ants.",
                download: "T√âL√âCHARGER IMAGE", copy_clipboard: "COPIER TEXTE",
                cloud_welcome: "BIENVENUE SUR VOTRE CLOUD", cloud_desc: "Toutes vos campagnes sont ici.",
                edit_design: "üõ†Ô∏è OUVRIR NANO-STUDIO", editor_title: "NANO-STUDIO", save_design: "SAUVEGARDER", close_editor: "FERMER",
                edit_text_1: "Texte Principal", edit_text_2: "Sous-titre", edit_size: "Taille Logo",
                default_promo: "Dur√©e limit√©e",
                copy_headline: "Pr√™t pour le niveau sup√©rieur ?", copy_body_1: "Ce n'est pas juste", copy_body_2: "C'est une exp√©rience.", 
                copy_offer: "Offre exclusive :", copy_cta: "üì≤ Commandez ici :",
                plans: "PLANES", p_names: ["D√âBUTANT", "ENTREPRISE", "AGENCE"], p_subs: ["MENSUEL", "PAIEMENT UNIQUE", "PAIEMENT UNIQUE"], rec: "RECOMMAND√â", buy: "ACHETER", sel: "S√âLECTIONNER", f_1: ["1 Mois Service", "4K", "50 Posts"], f_2: ["1 An", "8K", "100 Posts", "VIP"], f_3: ["1 Mois", "8K", "Illimit√©", "Marque Blanche"], faq_title: "QUESTIONS", q1: "MARKETING ?", a1: "...", q2: "APP ?", a2: "...", q3: "GAIN ?", a3: "...", before: "Avant", after: "Apr√®s",
                s_realistic: 'Photor√©alisme', s_cinematic: 'Cin√©matique', s_luxury: 'Luxe Minimal', s_neon: 'N√©on Pop', s_3d: '3D Pixar', s_cyber: 'Cyberpunk',
                l_studio: 'Lumi√®re Studio', l_studio_desc: 'Frontale Douce',
                l_neon: 'N√©on', l_neon_desc: 'Couleur Lat√©rale',
                l_golden: 'Heure Dor√©e', l_golden_desc: 'Soleil Arri√®re',
                l_dramatic: 'Cin√©matique', l_dramatic_desc: 'Contraste √âlev√©'
            }
        };

        // --- COMPONENTES ---
        
        const NeuralBrain = () => {
            const canvasRef = useRef(null);
            useEffect(() => {
                const canvas = canvasRef.current;
                if (!canvas) return;
                const ctx = canvas.getContext('2d');
                let width = canvas.width = 300; let height = canvas.height = 300;
                let particles = [];
                for(let i=0; i<60; i++) particles.push({x: Math.random()*width, y: Math.random()*height, vx: (Math.random()-0.5), vy: (Math.random()-0.5)});
                const animate = () => {
                    ctx.clearRect(0,0,width,height);
                    particles.forEach((p, i) => {
                        p.x += p.vx; p.y += p.vy;
                        if(p.x < 0 || p.x > width) p.vx *= -1; if(p.y < 0 || p.y > height) p.vy *= -1;
                        ctx.fillStyle = '#06b6d4'; ctx.beginPath(); ctx.arc(p.x, p.y, 2, 0, Math.PI*2); ctx.fill();
                        particles.slice(i+1).forEach(p2 => {
                            let d = Math.hypot(p.x-p2.x, p.y-p2.y);
                            if(d < 70) { ctx.beginPath(); ctx.strokeStyle = `rgba(6, 182, 212, ${0.2 * (1 - d/70)})`; ctx.moveTo(p.x, p.y); ctx.lineTo(p2.x, p2.y); ctx.stroke(); }
                        });
                    });
                    requestAnimationFrame(animate);
                };
                animate();
            }, []);
            return <canvas ref={canvasRef} className="w-40 h-40 mx-auto mb-6 rounded-full bg-black/40 border border-cyan-500/20 shadow-[0_0_40px_rgba(6,182,212,0.2)]" />;
        };

        const ComparisonSlider = ({ beforeImage, afterImage, tLang }) => {
            const [sliderPos, setSliderPos] = useState(50);
            const containerRef = useRef(null);
            const handleMove = (e) => {
                if (!containerRef.current) return;
                const rect = containerRef.current.getBoundingClientRect();
                const clientX = e.clientX || (e.touches && e.touches[0].clientX);
                if (clientX === undefined) return;
                const x = (clientX - rect.left) / rect.width * 100;
                setSliderPos(Math.min(100, Math.max(0, x)));
            };
            return (
                <div className="relative w-full h-full overflow-hidden cursor-ew-resize select-none rounded-xl border border-white/20 shadow-2xl bg-black" ref={containerRef} onMouseMove={handleMove} onTouchMove={handleMove}>
                    <img src={afterImage} alt="After" className="absolute top-0 left-0 w-full h-full object-cover" />
                    <div className="absolute top-0 left-0 h-full overflow-hidden border-r-2 border-white" style={{ width: `${sliderPos}%` }}><img src={beforeImage} alt="Before" className="absolute top-0 left-0 h-full max-w-none object-cover" style={{ width: containerRef.current ? containerRef.current.offsetWidth : '100%' }} /></div>
                    <div className="absolute top-1/2 w-10 h-10 bg-white rounded-full flex items-center justify-center text-black shadow-lg transform -translate-y-1/2 -translate-x-1/2 pointer-events-none" style={{ left: `${sliderPos}%` }}><Icons.Sliders /></div>
                    <div className="absolute bottom-4 left-4 bg-red-600 text-white text-xs font-bold px-2 py-1 rounded uppercase shadow-md">{tLang.before}</div>
                    <div className="absolute bottom-4 right-4 bg-green-500 text-black text-xs font-bold px-2 py-1 rounded uppercase shadow-md">{tLang.after}</div>
                </div>
            );
        };

        const PricingCard = ({ title, price, features, recommended, onSelect, strike, sub, tLang }) => (
            <div className={`relative p-6 md:p-8 rounded-xl flex flex-col gap-6 transition-transform duration-300 hover:scale-105 ${recommended ? 'glass border-cyan-500 shadow-[0_0_40px_rgba(6,182,212,0.3)] transform scale-110 z-10' : 'glass opacity-80 hover:opacity-100'}`}>
                {recommended && <div className="absolute -top-4 left-1/2 transform -translate-x-1/2 bg-cyan-500 text-black font-black text-[10px] uppercase tracking-widest py-1 px-4 clip-path-slanted animate-pulse">{tLang.rec}</div>}
                <div><h3 className="text-gray-400 font-bold uppercase tracking-widest text-xs mb-2 font-tech">{title}</h3><div className="flex items-baseline gap-1 justify-center md:justify-start"><span className="text-5xl font-black text-white font-tech">${price}</span>{strike && <span className="text-sm text-red-500 line-through font-bold">${strike}</span>}</div><p className="text-xs text-gray-500 mt-2 font-mono uppercase">{sub}</p></div>
                <ul className="space-y-3 flex-1 my-6">{features.map((f, i) => (<li key={i} className="flex items-start gap-3 text-xs text-gray-300 font-tech"><div className={`mt-0.5 ${recommended ? 'text-cyan-400' : 'text-gray-600'}`}><Icons.Check /></div><span>{f}</span></li>))}</ul>
                <button onClick={onSelect} className={`w-full py-4 font-black uppercase tracking-widest text-xs transition-all clip-path-slanted ${recommended ? 'tech-btn' : 'border border-white/20 hover:bg-white/10'}`}>{recommended ? tLang.buy : tLang.sel}</button>
            </div>
        );

        // --- NANO-STUDIO 2.0 (FABRIC.JS INTEGRADO CON CORRECCI√ìN LOGO) ---
        const FabricEditor = ({ image, logo, initialText, onSave, onClose, tLang }) => {
            const canvasEl = useRef(null);
            const [fabricCanvas, setFabricCanvas] = useState(null);
            const [selectedObj, setSelectedObj] = useState(null);
            
            // Inicializar Canvas
            useEffect(() => {
                const canvas = new fabric.Canvas(canvasEl.current, {
                    width: 1080,
                    height: 1080,
                    backgroundColor: '#000000',
                    preserveObjectStacking: true
                });
                
                setFabricCanvas(canvas);

                // Event Listener para selecci√≥n
                canvas.on('selection:created', (e) => setSelectedObj(e.selected[0]));
                canvas.on('selection:updated', (e) => setSelectedObj(e.selected[0]));
                canvas.on('selection:cleared', () => setSelectedObj(null));

                // Cargar Imagen de Fondo (IA)
                fabric.Image.fromURL(image, (img) => {
                    img.set({
                        selectable: false,
                        evented: false,
                        originX: 'center',
                        originY: 'center',
                        left: canvas.width / 2,
                        top: canvas.height / 2
                    });
                    // Escalar imagen para cubrir canvas (Cover)
                    const scale = Math.max(canvas.width / img.width, canvas.height / img.height);
                    img.scale(scale);
                    canvas.add(img);
                    canvas.sendToBack(img);
                    
                    // A√±adir Logo Inicialmente (si existe) CON MULTIPLY
                    if (logo) {
                        addLogoToCanvas(canvas, logo);
                    }

                    // A√±adir Texto Inicial
                    const textObj = new fabric.IText(initialText.top || "TU MARCA", {
                        left: 540, top: 100,
                        fontFamily: 'Chakra Petch',
                        fill: '#ffffff',
                        fontSize: 80,
                        originX: 'center',
                        fontWeight: 'bold',
                        shadow: 'rgba(0,0,0,0.8) 5px 5px 10px'
                    });
                    canvas.add(textObj);
                }, { crossOrigin: 'anonymous' });

                return () => {
                    canvas.dispose();
                }
            }, []);

            // --- FUNCI√ìN TRUCO LOGO BLANCO (MULTIPLY BLEND MODE) ---
            const addLogoToCanvas = (canvas, logoUrl) => {
                fabric.Image.fromURL(logoUrl, (img) => {
                    img.scaleToWidth(250);
                    img.set({
                        left: 540,
                        top: 540,
                        originX: 'center',
                        originY: 'center',
                        globalCompositeOperation: 'multiply' // EL TRUCO
                    });
                    canvas.add(img);
                    canvas.setActiveObject(img);
                }, { crossOrigin: 'anonymous' });
            };

            const handleAddText = () => {
                if(!fabricCanvas) return;
                const text = new fabric.IText('NUEVO TEXTO', {
                    left: 540, top: 540,
                    fontFamily: 'Chakra Petch',
                    fill: '#06b6d4',
                    fontSize: 60,
                    originX: 'center'
                });
                fabricCanvas.add(text);
                fabricCanvas.setActiveObject(text);
            };

            const deleteSelected = () => {
                if (!fabricCanvas || !selectedObj) return;
                fabricCanvas.remove(selectedObj);
                fabricCanvas.discardActiveObject();
                fabricCanvas.renderAll();
                setSelectedObj(null);
            };

            const updateColor = (color) => {
                if (!selectedObj || !selectedObj.set) return;
                selectedObj.set('fill', color);
                fabricCanvas.renderAll();
            };

            const downloadHD = () => {
                if (!fabricCanvas) return;
                // Multiplicador para HD (4x = 4320x4320)
                const dataURL = fabricCanvas.toDataURL({
                    format: 'png',
                    quality: 1,
                    multiplier: 4 
                });
                const link = document.createElement('a');
                link.download = `CLICK_IA_HD_${Date.now()}.png`;
                link.href = dataURL;
                link.click();
            };

            return (
                <div className="fixed inset-0 z-[100] flex items-center justify-center bg-black/95 p-4 fade-enter">
                    <div className="w-full max-w-7xl h-[90vh] flex border border-gray-800 rounded-xl overflow-hidden bg-[#050505]">
                        
                        {/* SIDEBAR CONTROLS */}
                        <div className="w-72 bg-[#111] border-r border-gray-800 p-6 flex flex-col gap-4 overflow-y-auto">
                             <h3 className="font-tech text-cyan-400 text-xl mb-2 tracking-widest">{tLang.editor_title}</h3>
                             
                             <div className="grid grid-cols-2 gap-2">
                                <button onClick={handleAddText} className="editor-btn text-xs flex-col py-3"><Icons.Text /> + TEXTO</button>
                                <button onClick={() => logo && fabricCanvas && addLogoToCanvas(fabricCanvas, logo)} className="editor-btn text-xs flex-col py-3 text-purple-400 border-purple-400/20 hover:bg-purple-400/10"><Icons.Zap /> RESET LOGO</button>
                             </div>

                             <div className="h-px bg-white/10 my-2"></div>

                             {selectedObj ? (
                                 <div className="space-y-4 animate-pulse-fast bg-white/5 p-4 rounded-lg border border-white/10">
                                     <p className="text-[10px] font-bold text-gray-400 uppercase tracking-widest">PROPIEDADES</p>
                                     
                                     {selectedObj.type === 'i-text' && (
                                         <>
                                            <div className="flex gap-2">
                                                <input type="color" className="h-8 w-8 bg-transparent cursor-pointer rounded overflow-hidden" onChange={(e) => updateColor(e.target.value)} />
                                                <span className="text-xs text-gray-400 self-center">Color Texto</span>
                                            </div>
                                            <select className="glass-input text-xs" onChange={(e) => { selectedObj.set('fontFamily', e.target.value); fabricCanvas.renderAll(); }}>
                                                <option value="Chakra Petch">Tech (Chakra)</option>
                                                <option value="Inter">Modern (Inter)</option>
                                                <option value="Oswald">Impact (Oswald)</option>
                                                <option value="Playfair Display">Luxury (Serif)</option>
                                            </select>
                                         </>
                                     )}
                                     
                                     <div className="flex flex-col gap-1">
                                        <label className="text-[9px] text-gray-500">OPACIDAD</label>
                                        <input type="range" min="0" max="1" step="0.1" defaultValue={selectedObj.opacity} onChange={(e) => { selectedObj.set('opacity', parseFloat(e.target.value)); fabricCanvas.renderAll(); }} />
                                     </div>
                                     
                                     {selectedObj.type === 'image' && (
                                         <div className="text-[9px] text-yellow-400 mt-2 border border-yellow-400/30 p-2 rounded">
                                             ‚ö†Ô∏è MODO BLEND: MULTIPLY
                                         </div>
                                     )}

                                     <button onClick={deleteSelected} className="w-full py-2 bg-red-900/30 text-red-400 rounded text-xs flex items-center justify-center gap-2 hover:bg-red-900/50 border border-red-900/50"><Icons.Trash /> ELIMINAR</button>
                                 </div>
                             ) : <div className="text-center py-10 text-gray-600 text-xs italic">Toca un elemento para editar.</div>}
                             
                             <div className="mt-auto flex flex-col gap-3">
                                <button onClick={downloadHD} className="tech-btn bg-cyan-500 text-black border-none w-full flex justify-center gap-2 text-xs py-4"><Icons.Download /> DESCARGAR 4K</button>
                                <button onClick={onClose} className="w-full py-3 border border-gray-700 rounded text-xs hover:bg-white/5 text-gray-400 uppercase tracking-widest">{tLang.close_editor}</button>
                             </div>
                        </div>

                        {/* CANVAS AREA - INTEGRADA */}
                        <div className="flex-1 bg-[#080808] canvas-wrapper relative overflow-hidden p-4">
                             {/* Escala CSS para ajuste visual sin perder resoluci√≥n interna */}
                             <div className="relative shadow-2xl border border-gray-700" style={{width: 'fit-content', height: 'fit-content', transform: 'scale(0.6)'}}>
                                 <canvas ref={canvasEl} /> 
                             </div>
                             <div className="absolute bottom-4 right-4 text-[10px] text-gray-500 font-mono pointer-events-none">NANO-STUDIO ENGINE V2.0 (4K READY)</div>
                        </div>
                    </div>
                </div>
            );
        };

        const QuestionScreen = ({ title, color, children, onNext, onPrev, credits, setView, tLang }) => (
            <div className="min-h-screen flex flex-col items-center justify-center p-6 fade-enter relative">
                <div className="absolute top-0 left-0 w-full p-6 flex justify-center items-center gap-6 z-50 pointer-events-none">
                     <div className="pointer-events-auto"><button onClick={() => setView('pricing')} className="flex items-center gap-2 px-4 py-2 bg-black/40 backdrop-blur-md rounded-full border border-yellow-500/30 hover:border-yellow-400 hover:scale-105 transition-all shadow-lg group"><span className="text-yellow-400 group-hover:rotate-12 transition-transform"><Icons.Credit /></span><span className="text-xs font-bold font-tech text-white">{credits} {tLang.credits}</span><span className="w-4 h-4 bg-yellow-500 text-black rounded-full flex items-center justify-center text-[10px] font-bold">+</span></button></div>
                    <div className="pointer-events-auto flex items-center gap-2 cursor-pointer group" onClick={() => setView('landing')}><Icons.Logo /><span className="text-xl font-black font-tech tracking-tighter group-hover:text-cyan-400 transition-colors">CLICK.IA</span></div>
                    <div className="pointer-events-auto flex items-center gap-1 text-[8px] text-cyan-400 font-bold uppercase tracking-[0.2em] bg-cyan-900/20 px-3 py-2 rounded-full border border-cyan-500/20"><Icons.Google /> {tLang.powered}</div>
                </div>
                <div className="w-full max-w-2xl glass p-12 rounded-3xl text-center relative mt-20">
                    <div className="absolute top-8 left-8 cursor-pointer text-gray-500 hover:text-white" onClick={onPrev}><Icons.ChevronLeft /></div>
                    <h2 className={`text-2xl font-bold font-tech mb-8 ${color}`}>{title}</h2>
                    {children}
                    <div className="embedded-credit">{tLang.credit_text}</div>
                    <button onClick={onNext} className="tech-btn w-full mt-10 py-4 rounded-xl">{tLang.next}</button>
                </div>
            </div>
        );

        // --- APP PRINCIPAL ---
        const App = () => {
            const [view, setView] = useState('landing');
            const [lang, setLang] = useState('ES'); 
            const [credits, setCredits] = useState(INITIAL_CREDITS);
            const [user, setUser] = useState(null); 
            const [userCloud, setUserCloud] = useState([]);
            const [isEditing, setIsEditing] = useState(false);

            // Estado del Formulario
            const initialForm = { 
                image: null, logo: null, inspirationImg: null, target: '', company: '', whatsapp: '', city: '', country: '',
                product: { name: '', price: '', promo: '' }, style: '', light: '', colors: [], googleData: false, inspiration: ''
            };

            const [formData, setFormData] = useState(initialForm);
            const [loadingText, setLoadingText] = useState('');
            const [progress, setProgress] = useState(0);
            const [isMuted, setIsMuted] = useState(false);
            const [designState, setDesignState] = useState({ top: "TU MARCA" });
            const [resultImage, setResultImage] = useState(MAGIC_RESULT_IMAGE_DEFAULT);
            const [generatedCopy, setGeneratedCopy] = useState("");
            const [apiKey, setApiKey] = useState('');
            const [inputEmail, setInputEmail] = useState('');
            const [inputApiKey, setInputApiKey] = useState('');
            
            // Refs
            const fileInputProduct = useRef(null);
            const fileInputLogo = useRef(null);
            const fileInputInspiration = useRef(null);
            const t = TRANSLATIONS[lang];

            useEffect(() => { 
                const storedUser = localStorage.getItem('clickia_user'); 
                const storedCloud = JSON.parse(localStorage.getItem('clickia_cloud') || '[]'); 
                if (storedUser) { setUser(JSON.parse(storedUser)); setUserCloud(storedCloud); } 
            }, []);

            const playSound = (type) => { 
                if (isMuted) return; 
                const audio = document.getElementById(`sfx-${type}`); 
                if(audio) { audio.currentTime = 0; audio.play().catch(()=>{}); } 
            };
            
            const changeView = (v) => { playSound('click'); setView(v); };
            
            const handleUpload = (e, field) => { 
                const file = e.target.files[0]; 
                if(file) { playSound('click'); setFormData(prev => ({...prev, [field]: URL.createObjectURL(file)})); } 
            };
            
            const updateProduct = (field, value) => { setFormData(prev => ({ ...prev, product: { ...prev.product, [field]: value } })); };
            
            const toggleColor = (color) => { 
                playSound('click'); 
                setFormData(prev => { 
                    const newColors = prev.colors.includes(color) ? prev.colors.filter(c => c !== color) : [...prev.colors, color].slice(0, 4); 
                    return { ...prev, colors: newColors }; 
                }); 
            };
            
            const handleNewGeneration = () => { playSound('click'); setFormData(initialForm); setResultImage(MAGIC_RESULT_IMAGE_DEFAULT); setGeneratedCopy(""); setView('upload'); };
            
            const handleLogin = () => { 
                if(!inputEmail) return alert("Email required"); 
                const fakeUser = { name: inputEmail.split('@')[0], email: inputEmail }; 
                setUser(fakeUser); setApiKey(inputApiKey); 
                localStorage.setItem('clickia_user', JSON.stringify(fakeUser)); 
                changeView('upload'); 
            };
            
            const handleCopyText = () => { navigator.clipboard.writeText(generatedCopy); alert("Copy copiado!"); };
            
            const handleDownloadImage = () => { 
                const link = document.createElement('a'); 
                link.href = resultImage; 
                link.download = `CLICK_IA_${Date.now()}.jpg`; 
                link.click(); 
            };
            
            const saveDesign = (newState) => { setDesignState(newState); setIsEditing(false); playSound('success'); };
            
            // --- ENGINE IA ---
            const generateImageURL = (prompt) => { 
                const cleanPrompt = prompt ? prompt.replace(/(\r\n|\n|\r)/gm, " ").trim() : "marketing";
                return `https://image.pollinations.ai/prompt/${encodeURIComponent(cleanPrompt)}?width=1080&height=1080&nologo=true&seed=${Math.floor(Math.random() * 10000)}`; 
            };

            const runEngine = async () => {
                if(!formData.style) return alert("Elige un estilo");
                if(credits <= 0) return alert("Sin cr√©ditos.");
                
                playSound('process'); 
                setView('processing');

                const steps = t.loading_steps;
                for(let i=0; i<3; i++) { 
                    setLoadingText(steps[i]); 
                    setProgress(((i+1)/steps.length)*50); 
                    await new Promise(r => setTimeout(r, 600)); 
                }

                // Simulaci√≥n IA (Aqu√≠ ir√≠a la llamada real a Gemini)
                const imagePrompt = `${formData.product.name}, ${formData.style}, ${formData.light}, 8k commercial render`;
                const newImageURL = generateImageURL(imagePrompt);

                await new Promise(r => setTimeout(r, 1500));
                
                setResultImage(newImageURL); 
                setGeneratedCopy("¬°Descubre lo nuevo! üöÄ #" + (formData.product.name || "Producto"));
                setCredits(prev => prev - 1);
                
                playSound('success'); 
                setView('result');
            };

            const HeaderInternal = () => (
                <div className="absolute top-0 left-0 w-full p-6 flex justify-center items-center gap-6 z-50 pointer-events-none">
                    <div className="pointer-events-auto">
                        <button onClick={() => setView('pricing')} className="flex items-center gap-2 px-4 py-2 bg-black/40 backdrop-blur-md rounded-full border border-yellow-500/30 hover:border-yellow-400 hover:scale-105 transition-all shadow-lg group">
                            <span className="text-yellow-400 group-hover:rotate-12 transition-transform"><Icons.Credit /></span>
                            <span className="text-xs font-bold font-tech text-white">{credits} {t.credits}</span>
                        </button>
                    </div>
                    <div className="pointer-events-auto flex items-center gap-2 cursor-pointer group" onClick={() => setView('landing')}>
                        <Icons.Logo /><span className="text-xl font-black font-tech tracking-tighter group-hover:text-cyan-400 transition-colors">CLICK.IA</span>
                    </div>
                </div>
            );

            // --- VISTAS ---
            if (view === 'landing') return (
                <div className="min-h-screen flex flex-col items-center justify-center p-6 text-center relative fade-enter">
                    <div className="z-10 max-w-6xl w-full flex flex-col items-center mt-20">
                        <h1 className="text-4xl md:text-7xl font-black font-tech mb-8 leading-none tracking-tighter drop-shadow-[0_0_30px_rgba(255,255,255,0.3)]">{t.hero_mk}</h1>
                        <button onClick={() => {playSound('click'); setView('setup')}} className="tech-btn px-16 py-6 text-xl rounded-full mb-12 shadow-[0_0_50px_rgba(6,182,212,0.4)]">{t.cta_trial}</button>
                        
                        {/* SECCI√ìN CEO ACTUALIZADA */}
                        <div className="w-full max-w-4xl glass p-8 rounded-3xl border border-white/10 mb-20 flex flex-col md:flex-row items-center gap-8 text-left relative overflow-hidden">
                            <div className="w-40 h-40 md:w-48 md:h-48 rounded-full border-4 border-white/10 shadow-2xl flex-shrink-0 overflow-hidden relative z-10 ceo-photo-wrapper">
                                {/* AQU√ç EST√Å LA FOTO DEL CEO */}
                                <img src="./assets/ceo-roddy.jpg" className="ceo-photo-style" alt="Roddy Smith CEO" />
                            </div>
                            <div className="flex-1 relative z-10">
                                <div className="text-xs font-bold text-cyan-400 uppercase tracking-widest mb-2">{t.creator_title}</div>
                                <h3 className="text-3xl font-black font-tech mb-1">RODDY SMITH</h3>
                                <p className="text-xs font-bold text-gray-400 uppercase tracking-wider mb-4">{t.creator_role}</p>
                                <p className="text-sm text-gray-300 leading-relaxed italic">"{t.creator_bio}"</p>
                            </div>
                        </div>
                    </div>
                </div>
            );

            if (view === 'setup') return <div className="min-h-screen flex items-center justify-center p-6"><div className="w-full max-w-md glass p-10 rounded-2xl text-center relative"><button onClick={() => changeView('landing')} className="absolute top-4 right-4 text-gray-500 hover:text-white"><Icons.X /></button><h2 className="text-3xl font-bold font-tech mb-8">{t.setup_title}</h2><div className="space-y-4"><div><input className="glass-input" placeholder={t.ph_email} value={inputEmail} onChange={e => setInputEmail(e.target.value)} /></div><button onClick={handleLogin} className="w-full py-4 bg-white text-black font-black uppercase tracking-widest hover:bg-cyan-400 transition-colors rounded-lg">{t.setup_btn}</button></div></div></div>;
            
            if (view === 'upload') return <div className="min-h-screen flex flex-col items-center justify-center p-6 fade-enter relative"><HeaderInternal /><div className="w-full max-w-4xl glass p-12 rounded-3xl text-center border border-white/10 mt-20"><h2 className="text-3xl font-bold font-tech mb-8 uppercase">{t.upload_title}</h2><div className="grid md:grid-cols-2 gap-8 mb-10"><div onClick={() => fileInputProduct.current.click()} className="relative h-64 border-2 border-dashed border-white/20 hover:border-cyan-500 rounded-2xl flex flex-col items-center justify-center cursor-pointer">{formData.image ? <img src={formData.image} className="w-full h-full object-contain p-4" /> : <Icons.Upload />}<input type="file" ref={fileInputProduct} className="hidden" onChange={(e) => handleUpload(e, 'image')} /></div><div onClick={() => fileInputLogo.current.click()} className="relative h-64 border-2 border-dashed border-white/20 hover:border-purple-500 rounded-2xl flex flex-col items-center justify-center cursor-pointer">{formData.logo ? <img src={formData.logo} className="w-full h-full object-contain p-4" /> : <Icons.Zap />}<input type="file" ref={fileInputLogo} className="hidden" onChange={(e) => handleUpload(e, 'logo')} /></div></div><button onClick={() => { if(!formData.image) return alert("Sube producto"); changeView('style'); }} className="tech-btn w-full py-5 text-xl uppercase tracking-widest">{t.next}</button></div></div>;
            
            if (view === 'style') return <div className="min-h-screen p-6 fade-enter flex flex-col relative"><HeaderInternal /><div className="max-w-7xl mx-auto w-full mt-20"><h2 className="text-3xl font-bold font-tech mb-8">{t.style_title}</h2><div className="grid grid-cols-2 md:grid-cols-3 gap-6">{STYLES_DATA.map(s => (<div key={s.id} onClick={() => {setFormData({...formData, style: t[`s_${s.id}`]}); runEngine();}} className="glass-card rounded-xl h-64"><img src={s.img} className="w-full h-full object-cover opacity-70" /><div className="card-label">{t[`s_${s.id}`]}</div></div>))}</div></div></div>;
            
            if (view === 'processing') return <div className="min-h-screen flex flex-col items-center justify-center p-8 fade-enter"><NeuralBrain /><h2 className="text-3xl font-black font-tech text-white animate-pulse mt-8">{loadingText}</h2></div>;

            if (view === 'result') return (
                <div className="min-h-screen flex flex-col items-center justify-center p-6 fade-enter relative">
                    <HeaderInternal />
                    <h2 className="text-5xl font-black font-tech text-white mt-24 mb-8 tracking-widest">{t.result_title}</h2>
                    <div className="w-full max-w-7xl grid md:grid-cols-2 gap-10 glass p-8 rounded-3xl border border-white/20">
                        <div className="space-y-4">
                            <div className="relative h-[500px] rounded-2xl overflow-hidden border border-white/20 shadow-2xl">
                                <ComparisonSlider beforeImage={formData.image || UGLY_BURGER_IMAGE} afterImage={resultImage} tLang={t} />
                            </div>
                            <div className="flex gap-2">
                                <button onClick={handleDownloadImage} className="flex-1 py-3 bg-cyan-500 text-black text-xs font-bold uppercase rounded-xl hover:bg-cyan-400 transition-colors flex items-center justify-center gap-2"><Icons.Download /> {t.download}</button>
                                <button onClick={() => setIsEditing(true)} className="flex-1 py-3 border border-white/20 text-white text-xs font-bold uppercase rounded-xl hover:bg-white/10 transition-colors flex items-center justify-center gap-2">{t.edit_design}</button>
                            </div>
                        </div>
                        <div className="flex flex-col space-y-6">
                            <div className="glass p-6 rounded-2xl border-l-4 border-purple-500"><h3 className="text-xs font-bold text-purple-400 uppercase tracking-widest mb-4">{t.copy_viral}</h3><div className="text-sm text-gray-300">{generatedCopy}</div></div>
                            <button onClick={handleNewGeneration} className="mt-auto w-full py-4 border border-white/20 rounded-xl text-xs font-bold uppercase hover:bg-white hover:text-black transition-colors">{t.new_btn}</button>
                        </div>
                    </div>
                    {isEditing && <FabricEditor image={resultImage} logo={formData.logo} initialText={designState} onSave={saveDesign} onClose={() => setIsEditing(false)} tLang={t} />}
                </div>
            );

            return null; // Fallback
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>

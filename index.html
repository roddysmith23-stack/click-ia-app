<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CLICK IA - The Future of Marketing</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;900&family=Chakra+Petch:wght@400;600;700&family=Oswald:wght@500&family=Playfair+Display:wght@600&family=Montserrat:wght@700&family=Roboto+Mono:wght@400;500&display=swap" rel="stylesheet">
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        /* --- ESTÃ‰TICA FINAL --- */
        body { background-color: #050505; color: white; font-family: 'Inter', sans-serif; overflow-x: hidden; }
        h1, h2, h3, .font-tech { font-family: 'Chakra Petch', sans-serif; }
        
        #bg-video {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            object-fit: cover; z-index: -1; opacity: 0.2;
            filter: contrast(1.2) brightness(0.5) hue-rotate(190deg) grayscale(0.5);
        }

        .glass { 
            background: rgba(15, 15, 20, 0.85); backdrop-filter: blur(20px); 
            border: 1px solid rgba(255, 255, 255, 0.08); box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5); 
        }
        .glass-panel {
            background: rgba(10, 10, 12, 0.98); 
            border: 1px solid rgba(255,255,255,0.1);
        }
        .glass-card { 
            background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); 
            transition: all 0.3s ease; cursor: pointer; overflow: hidden; position: relative; border-radius: 16px;
        }
        .glass-card:hover { 
            border-color: #06b6d4; transform: translateY(-5px); 
            box-shadow: 0 10px 40px rgba(6, 182, 212, 0.2);
        }
        .glass-card.selected {
            border-color: #06b6d4; background: rgba(6, 182, 212, 0.15);
            box-shadow: 0 0 0 2px #06b6d4; transform: scale(1.02);
        }
        
        .card-label {
            position: absolute; bottom: 0; left: 0; width: 100%;
            background: linear-gradient(to top, rgba(0,0,0,0.95), rgba(0,0,0,0.6), transparent); 
            padding: 20px 10px 10px 10px; text-align: center;
            font-family: 'Chakra Petch'; text-transform: uppercase;
        }

        .scan-line {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to bottom, transparent, rgba(6, 182, 212, 0.3), #06b6d4, rgba(6, 182, 212, 0.3), transparent);
            background-size: 100% 20%;
            background-repeat: no-repeat;
            animation: scan 2.5s linear infinite;
            pointer-events: none;
            z-index: 20;
        }
        @keyframes scan {
            0% { background-position: 0% -20%; }
            100% { background-position: 0% 120%; }
        }

        .tech-btn {
            background: white; color: black; font-weight: 900; text-transform: uppercase; letter-spacing: 0.05em;
            border-radius: 4px; padding: 14px 32px; transition: all 0.2s; cursor: pointer;
            clip-path: polygon(10% 0, 100% 0, 100% 70%, 90% 100%, 0 100%, 0 30%);
        }
        .tech-btn:hover { transform: translateY(-2px); box-shadow: 0 0 25px rgba(255, 255, 255, 0.3); }
        
        .editor-btn {
            background: #1a1a1a; color: white; font-weight: 600; font-family: 'Chakra Petch';
            border: 1px solid rgba(255,255,255,0.2); padding: 10px; border-radius: 8px;
            transition: all 0.2s; display: flex; align-items: center; justify-content: center; gap: 8px;
        }
        .editor-btn:hover { border-color: #06b6d4; background: rgba(6, 182, 212, 0.1); }

        .quiz-input {
            background: transparent; border: none; border-bottom: 2px solid rgba(255,255,255,0.2);
            width: 100%; padding: 20px; font-size: 1.5rem; color: white; text-align: center;
            font-family: 'Chakra Petch'; transition: all 0.3s;
        }
        .quiz-input:focus { outline: none; border-color: #06b6d4; background: rgba(6, 182, 212, 0.05); }

        .glass-input {
            background: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2);
            color: white; font-family: 'Chakra Petch';
            padding: 12px; width: 100%; border-radius: 8px;
        }
        .glass-input:focus { outline: none; border-color: #06b6d4; background: rgba(255, 255, 255, 0.15); }

        .comparison-container { position: relative; width: 100%; height: 300px; border-radius: 16px; overflow: hidden; cursor: ew-resize; border: 1px solid rgba(255,255,255,0.2); }
        .comparison-img { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; }
        .comparison-handle { position: absolute; top: 0; bottom: 0; width: 2px; background: white; z-index: 10; display: flex; align-items: center; justify-content: center; }
        .handle-circle { width: 40px; height: 40px; background: white; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: black; box-shadow: 0 0 20px rgba(0,0,0,0.5); }

        .format-container { transition: all 0.5s ease-in-out; overflow: hidden; position: relative; margin: 0 auto; border-radius: 16px; border: 1px solid rgba(255,255,255,0.2); box-shadow: 0 20px 60px rgba(0,0,0,0.8); }
        .aspect-square { aspect-ratio: 1/1; max-width: 450px; }
        .aspect-story { aspect-ratio: 9/16; max-width: 300px; }
        .aspect-video { aspect-ratio: 16/9; max-width: 100%; }

        .editable-text {
            position: absolute; cursor: text; text-align: center; width: 90%; left: 5%;
            text-shadow: 0 2px 10px rgba(0,0,0,0.9); transition: all 0.2s;
            border: 1px solid transparent; background: transparent; font-family: 'Chakra Petch';
        }
        .editable-text:hover { border-color: rgba(255,255,255,0.3); background: rgba(0,0,0,0.2); }
        .editable-text:focus { outline: none; border-color: #06b6d4; background: rgba(0,0,0,0.5); }

        .color-check { width: 40px; height: 40px; border-radius: 10px; cursor: pointer; border: 2px solid rgba(255,255,255,0.1); transition: transform 0.2s; position: relative;}
        .color-check.selected { border-color: white; transform: scale(1.15); box-shadow: 0 0 15px rgba(255,255,255,0.3); }
        .color-check.selected::after { content: 'âœ“'; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: black; font-weight: bold; font-size: 12px; filter: drop-shadow(0 0 2px white); }

        .social-btn {
            display: flex; align-items: center; gap: 10px; width: 100%; padding: 12px;
            background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 8px; color: #ccc; font-size: 0.75rem; font-weight: bold; letter-spacing: 0.1em;
            transition: all 0.2s; cursor: pointer;
        }
        .social-btn:hover { background: rgba(255,255,255,0.1); color: white; }
        .social-btn.connected { background: rgba(6, 182, 212, 0.2); border-color: #06b6d4; color: #06b6d4; }

        .embedded-credit { 
            text-align: center; font-size: 9px; text-transform: uppercase; letter-spacing: 0.2em; 
            color: rgba(255,255,255,0.3); font-family: 'Chakra Petch'; 
            margin-top: 20px; padding-top: 10px; border-top: 1px solid rgba(255,255,255,0.05); width: 100%;
        }
        
        .floating-credit {
            position: fixed; bottom: 30px; left: 0; width: 100%;
            text-align: center; font-size: 10px; text-transform: uppercase; letter-spacing: 0.3em; 
            color: rgba(255,255,255,0.4); font-family: 'Chakra Petch'; 
            z-index: 50; pointer-events: none; padding: 0 20px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.8);
        }

        .mute-btn { position: fixed; bottom: 20px; right: 20px; z-index: 60; background: rgba(0,0,0,0.8); border: 1px solid #06b6d4; color: #06b6d4; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer; }
        
        .clip-path-slanted { clip-path: polygon(10% 0, 100% 0, 100% 80%, 90% 100%, 0 100%, 0 20%); }
        
        input[type=range] { -webkit-appearance: none; width: 100%; background: transparent; }
        input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; height: 16px; width: 16px; border-radius: 50%; background: #06b6d4; cursor: pointer; margin-top: -6px; }
        input[type=range]::-webkit-slider-runnable-track { width: 100%; height: 4px; cursor: pointer; background: rgba(255,255,255,0.2); border-radius: 2px; }
        
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #000; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #555; }

        .copy-area {
            background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 12px; padding: 15px; font-family: 'Inter', sans-serif;
            font-size: 14px; color: #e5e7eb; white-space: pre-wrap; max-height: 200px; overflow-y: auto;
        }
        .copy-area:focus { outline: none; border-color: #06b6d4; }

        .yt-embed-container {
            position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 8px; margin-bottom: 10px;
        }
        .yt-embed-container iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
        
        .auth-form-container { width: 100%; text-align: left; margin-bottom: 20px; }
        .auth-label { display: block; font-size: 10px; font-weight: bold; color: #06b6d4; margin-bottom: 6px; letter-spacing: 0.1em; text-transform: uppercase; }
        
        .cloud-item { cursor: pointer; transition: all 0.2s; }
        .cloud-item:hover { background: rgba(255,255,255,0.1); border-color: #06b6d4; }

        /* Animation for fade-in */
        .fade-enter { animation: fadeIn 0.5s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>
    <video id="bg-video" autoplay loop muted playsinline>
        <source src="https://cdn.pixabay.com/video/2020/12/18/59791-494669276_large.mp4" type="video/mp4">
    </video>

    <!-- AUDIO SYSTEM -->
    <audio id="bg-music" loop src="https://cdn.pixabay.com/download/audio/2022/05/17/audio_1832016087.mp3"></audio>
    <audio id="sfx-click" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_c8c8a7346b.mp3"></audio>
    <audio id="sfx-process" src="https://cdn.pixabay.com/download/audio/2022/03/24/audio_c2b3b469b7.mp3"></audio>
    <audio id="sfx-success" src="https://cdn.pixabay.com/download/audio/2022/01/18/audio_1728e273c4.mp3"></audio>

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useCallback } = React;

        // --- CONSTANTES Y DATOS ---
        const MAGIC_RESULT_IMAGE_DEFAULT = "https://images.unsplash.com/photo-1550547660-d9450f859349?q=80&w=2865"; 
        const UGLY_BURGER_IMAGE = "https://images.unsplash.com/photo-1568901346375-23c9450c58cd?q=80&w=2799"; 
        const CREATOR_IMAGE = "https://images.unsplash.com/photo-1560250097-0b93528c311a?q=80&w=1000&auto=format&fit=crop"; 
        const INITIAL_CREDITS = 5;

        // PROMPT MAESTRO DEL SISTEMA (La orden secreta para Gemini)
        const MARKETING_SYSTEM_PROMPT = `
        ERES EL EXPERTO MAS GRANDE MARKETING DEL MUNDO. TU MISIÃ“N ES CREAR UN COPY VIRAL Y ESTRATÃ‰GICO.
        
        INSTRUCCIONES:
        1. ANALIZA EXHAUSTIVAMENTE LA MARCA Y EL PRODUCTO DEL USUARIO.
        2. CREA UN COPY POTENTE PARA REDES SOCIALES (INSTAGRAM/TIKTOK).
        3. EL COPY DEBE CONTENER:
           - UN GANCHO (HOOK) IRRESISTIBLE AL INICIO.
           - CUERPO PERSUASIVO USANDO TÃ‰CNICA AIDA (ATENCIÃ“N, INTERÃ‰S, DESEO, ACCIÃ“N).
           - LA INFORMACIÃ“N DE LA EMPRESA, PROMOCIÃ“N Y UBICACIÃ“N PROPORCIONADA.
           - LLAMADA A LA ACCIÃ“N (CTA) CLARA HACIA EL WHATSAPP.
           - HASHTAGS VIRALES RELEVANTES.
        4. EL TONO DEBE SER PROFESIONAL PERO CERCANO Y ENÃ‰RGICO.
        5. RESPONDE SOLAMENTE CON EL TEXTO DEL COPY, SIN SALUDOS NI EXPLICACIONES ADICIONALES.
        `;

        // --- ICONOS SVG ---
        const Icons = {
            Logo: () => <svg width="32" height="32" viewBox="0 0 100 100" fill="none"><path d="M50 10L90 80C90 80 70 70 50 70C30 70 10 80 10 80L50 10Z" fill="white"/></svg>,
            Google: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="white"><path d="M12.24 10.285V14.4h6.806c-.275 1.765-2.056 5.174-6.806 5.174-4.095 0-7.439-3.389-7.439-7.574s3.345-7.574 7.439-7.574c2.33 0 3.891.989 4.785 1.849l3.254-3.138C18.189 1.186 15.479 0 12.24 0c-6.635 0-12 5.365-12 12s5.365 12 12 12c6.926 0 11.52-4.869 11.52-11.726 0-.788-.085-1.39-.189-1.989H12.24z"/></svg>,
            Upload: () => <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" y1="3" x2="12" y2="15"/></svg>,
            Zap: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon></svg>,
            Check: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#4ade80" strokeWidth="3"><polyline points="20 6 9 17 4 12"/></svg>,
            ChevronLeft: () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="15 18 9 12 15 6"/></svg>,
            Volume2: () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"></path></svg>,
            VolumeX: () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line></svg>,
            Instagram: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"/></svg>,
            Tiktok: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5"/></svg>,
            Facebook: () => <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/></svg>,
            Music: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></svg>,
            Clock: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>,
            Download: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>,
            Lock: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>,
            X: () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>,
            Play: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><polygon points="5 3 19 12 5 21 5 3"/></svg>,
            Pause: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>,
            Star: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="gold" strokeWidth="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>,
            ChevronDown: () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="6 9 12 15 18 9"/></svg>,
            Video: () => <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polygon points="23 7 16 12 23 17 23 7"/><rect x="1" y="5" width="15" height="14" rx="2" ry="2"/></svg>,
            Sliders: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="4" y1="21" x2="4" y2="14"/><line x1="4" y1="10" x2="4" y2="3"/><line x1="12" y1="21" x2="12" y2="12"/><line x1="12" y1="8" x2="12" y2="3"/><line x1="20" y1="21" x2="20" y2="16"/><line x1="20" y1="12" x2="20" y2="3"/><line x1="1" y1="14" x2="7" y2="14"/><line x1="9" y1="8" x2="15" y2="8"/><line x1="17" y1="16" x2="23" y2="16"/></svg>,
            Credit: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.15-1.46-3.27-3.4h1.96c.1 1.05 1.18 1.91 2.53 1.91 1.38 0 2.36-.83 2.36-1.9 0-1.07-.69-1.58-2.61-2.17-2.24-.68-3.37-1.62-3.37-3.43 0-1.73 1.37-3.1 3.07-3.44V3.98h2.67v1.96c1.56.35 2.76 1.54 2.91 3.14h-1.98c-.13-1.01-1.02-1.68-2.18-1.68-1.24 0-2.15.79-2.15 1.8 0 .95.63 1.46 2.36 2.01 2.43.77 3.62 1.74 3.62 3.62 0 1.9-1.42 3.09-3.23 3.26z"/></svg>,
            Copy: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>,
            Logout: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>,
            Cloud: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"/></svg>,
            Edit: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>,
            Save: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg>,
            Key: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"/></svg>,
            Text: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="4 7 4 4 20 4 20 7"/><line x1="9" y1="20" x2="15" y2="20"/><line x1="12" y1="4" x2="12" y2="20"/></svg>,
            Image: () => <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>,
            Undo: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M3 7v6h6"/><path d="M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"/></svg>,
            Trash: () => <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="3 6 5 6 21 6"/><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/></svg>
        };

        // --- DATOS ---
        const STYLES_DATA = [
            { id: 'realistic', img: 'https://images.unsplash.com/photo-1550751827-4bd374c3f58b?q=80&w=400', music: 'Lofi Chill' },
            { id: 'cinematic', img: 'https://images.unsplash.com/photo-1536440136628-849c177e76a1?q=80&w=400', music: 'Epic Orchestral' }, 
            { id: 'luxury', img: 'https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?q=80&w=400', music: 'Jazz Lounge' },
            { id: 'neon', img: 'https://images.unsplash.com/photo-1555212697-194d092e3b8f?q=80&w=400', music: 'Synthwave' },
            { id: '3d', img: 'https://images.unsplash.com/photo-1633356122544-f134324a6cee?q=80&w=400', music: 'Happy Pop' },
            { id: 'cyber', img: 'https://images.unsplash.com/photo-1515630278258-407f66498911?q=80&w=400', music: 'Dark Techno' }
        ];

        const LIGHTING_DATA = [
            { id: 'studio', img: 'https://images.unsplash.com/photo-1550751827-4bd374c3f58b?q=80&w=400' },
            { id: 'neon', img: 'https://images.unsplash.com/photo-1563089145-599997674d42?q=80&w=400' },
            { id: 'golden', img: 'https://images.unsplash.com/photo-1477346611705-65d1883cee1e?q=80&w=400' },
            { id: 'dramatic', img: 'https://images.unsplash.com/photo-1492633423870-43d1cd2775eb?q=80&w=400' }
        ];

        const COLOR_GROUPS = {
            "NEUTROS": ["#FFFFFF", "#000000", "#F5F5F5", "#D3D3D3", "#808080", "#333333"],
            "NUDE": ["#E3D1C4", "#D7B8A3", "#C7A188", "#B88E76", "#A87F63", "#8D6E55", "#6F4F1D", "#5D4037", "#3E2723"],
            "PRIMARIOS": ["#FF0000", "#0000FF", "#FFFF00"],
            "SECUNDARIOS": ["#00FF00", "#FFA500", "#800080"],
            "TERCIARIOS": ["#FF4500", "#FFD700", "#ADFF2F", "#00CED1", "#8A2BE2", "#C71585"],
            "CUATERNARIOS": ["#800000", "#808000", "#008080", "#000080"]
        };

        const REAL_MUSIC_IDS = [
            { title: "Epic Cinematic", id: "p7Z9y8eZtMc" }, 
            { title: "Corporate Upbeat", id: "3y3r2p7kC_k" },
            { title: "Fashion House", id: "n61ULEU7CO0" } 
        ];

        const BEST_TIMES = [
            { icon: <Icons.Instagram />, platform: "Instagram", time: "18:30", day: "Hoy" },
            { icon: <Icons.Tiktok />, platform: "TikTok", time: "20:00", day: "Hoy" },
            { icon: <Icons.Facebook />, platform: "Facebook", time: "09:00", day: "MaÃ±ana" }
        ];

        const TRANSLATIONS = {
            ES: {
                enter: "INGRESAR", prices: "VER PRECIOS", faq: "PREGUNTAS",
                powered: "Powered by Gemini",
                hero_mk: "EL FUTURO DEL MARKETING", hero_auto: "PARA EMPRESAS.",
                bullets: ['Ãšltima TecnologÃ­a', 'Velocidad Luz', 'Neuromarketing', 'Ahorro Total', 'Experto en Ventas'],
                cta_trial: "RECIBE UNA PRUEBA GRATIS", cta_posts: "GENERA 50 POST AL MES",
                setup_title: "IDENTIFICACIÃ“N", setup_desc: "Ingresa tus datos para conectar tu cuenta.", setup_btn: "CONECTAR Y ENTRAR",
                lbl_email: "TU CORREO ELECTRÃ“NICO", ph_email: "ejemplo@empresa.com",
                lbl_api: "TU GOOGLE GEMINI API KEY", ph_api: "Pega tu clave AIza...",
                upload_title: "Fase 1: Carga de Activos", upload_prod: "PRODUCTO", upload_logo: "LOGOTIPO", next: "SIGUIENTE",
                q1_title: "Â¿QUIÃ‰N ES TU CLIENTE?", q1_ph: "Ej: Mujeres jÃ³venes, deportistas...",
                q2_title: "DETALLES DEL PRODUCTO", q2_p1: "Â¿QuÃ© vendes? (Ej: Hamburguesa)", q2_p2: "Precio ($)", q2_p3: "PromociÃ³n (Opcional)",
                q3_title: "DATOS DE EMPRESA", q3_p1: "Nombre de tu empresa...", q3_p2: "WhatsApp (593...)",
                q4_title: "TU INSPIRACIÃ“N", q4_ph1: "Ej: Apple, Nike...", q4_upload: "O Sube una foto de referencia", q4_change: "Cambiar Imagen",
                q5_title: "PALETA DE COLORES", style_title: "ELIGE EL ESTILO", light_title: "ILUMINACIÃ“N",
                google_data: "Google Data Pro", google_desc: "Usar datos reales de bÃºsqueda",
                gen_btn: "GENERAR CAMPAÃ‘A", processing: "PROCESANDO DATOS...", result_title: "RESULTADOS",
                viral_score: "Viral Score", viral_desc: "Alto potencial de alcance orgÃ¡nico detectado.",
                schedule: "Cronograma IA", copy_viral: "Copy Viral", star_text: "TEXTO ESTRELLA â˜…",
                trends: "Tendencias Detectadas", publish: "PUBLICAR AHORA", new_btn: "NUEVO", ready: "LISTO",
                credits: "CRÃ‰DITOS", color_n: "NEUTROS", color_nu: "NUDE", color_p: "PRIMARIOS", color_s: "SECUNDARIOS", color_t: "TERCIARIOS", color_q: "CUATERNARIOS",
                loading_steps: ["BUSCANDO EN LA WEB...", "ANALIZANDO TENDENCIAS...", "ESTRUCTURANDO ESTRATEGIA...", "GENERANDO IMAGEN 8K...", "REDACTANDO COPY VIRAL..."],
                credit_text: '"La creatividad es la inteligencia divirtiÃ©ndose." - Albert Einstein',
                creator_title: "NUESTRO CREADOR", creator_role: "CO-FOUNDER & CSIO", creator_bio: "Visionario estratÃ©gico con dominio total de la IA y el algoritmo. Roddy Smith no solo predice el futuro del marketing, lo estÃ¡ construyendo.",
                creator_mission: "Nuestra misiÃ³n es romper las barreras de entrada. CLICK IA naciÃ³ para cambiar el mundo, empoderando a cada emprendedor con la tecnologÃ­a que antes solo tenÃ­an los gigantes.",
                download: "DESCARGAR IMAGEN", copy_clipboard: "COPIAR TEXTO",
                cloud_welcome: "BIENVENIDO A TU NUBE", cloud_desc: "AquÃ­ guardamos todas tus campaÃ±as.",
                edit_design: "ðŸ› ï¸ ABRIR ESTUDIO DE DISEÃ‘O", editor_title: "NANO-STUDIO", save_design: "GUARDAR DISEÃ‘O", close_editor: "CERRAR",
                edit_text_1: "Texto Principal", edit_text_2: "SubtÃ­tulo", edit_size: "TamaÃ±o Logo",
                default_promo: "Por tiempo limitado",
                copy_headline: "Â¿Listo para el siguiente nivel?", copy_body_1: "No es solo", copy_body_2: "Es una experiencia.", 
                copy_offer: "Oferta exclusiva:", copy_cta: "ðŸ“² Haz tu pedido aquÃ­:",
                plans: "PLANES", p_names: ["PRINCIPIANTE", "EMPRESA", "AGENCIA"], p_subs: ["MENSUAL", "PAGO ÃšNICO 1 AÃ‘O", "PAGO ÃšNICO"], rec: "RECOMENDADO", buy: "COMPRAR AHORA", sel: "SELECCIONAR", f_1: ["1 Mes de Servicio", "4K High Definition", "50 Post Mensuales"], f_2: ["1 AÃ‘O de Servicio", "8K High Definition", "100 Post Mensuales", "Soporte VIP"], f_3: ["1 Mes de Servicio", "8K High Definition", "Ilimitado", "Marca Blanca"], faq_title: "PREGUNTAS FRECUENTES", q1: "Â¿QUÃ‰ ES MARKETING?", a1: "El Marketing no es vender. Es que te elijan.", q2: "Â¿PARA QUE SIRVE LA APP?", a2: "Click IA clona el cerebro de los mejores publicistas.", q3: "Â¿QUÃ‰ GANO CON LA APP?", a3: "Ganas tiempo y calidad mundial.", before: "Antes", after: "DespuÃ©s"
            },
            // ... (Other languages follow same pattern)
             EN: {
                enter: "LOGIN", prices: "PRICING", faq: "FAQ",
                powered: "Powered by Gemini",
                hero_mk: "THE FUTURE OF MARKETING", hero_auto: "FOR BUSINESSES.",
                bullets: ['Latest Tech', 'Light Speed', 'Neuromarketing', 'Total Savings', 'Sales Expert'],
                cta_trial: "GET A FREE TRIAL", cta_posts: "GENERATE 50 POSTS/MO",
                setup_title: "IDENTIFICATION", setup_desc: "Enter your details to connect.", setup_btn: "CONNECT & ENTER",
                lbl_email: "YOUR EMAIL", ph_email: "ex@company.com",
                lbl_api: "YOUR GOOGLE GEMINI API KEY", ph_api: "Paste your AIza key...",
                upload_title: "Phase 1: Asset Upload", upload_prod: "PRODUCT", upload_logo: "LOGO", next: "NEXT",
                q1_title: "WHO IS YOUR CLIENT?", q1_ph: "Ex: Young women...",
                q2_title: "PRODUCT DETAILS", q2_p1: "What do you sell?", q2_p2: "Price", q2_p3: "Promo",
                q3_title: "COMPANY DATA", q3_p1: "Company Name", q3_p2: "WhatsApp",
                q4_title: "YOUR INSPIRATION", q4_ph1: "Ex: Apple...", q4_upload: "Or Upload reference", q4_change: "Change Image",
                q5_title: "COLOR PALETTE", style_title: "CHOOSE STYLE", light_title: "LIGHTING",
                google_data: "Google Data Pro", google_desc: "Use real search data",
                gen_btn: "GENERATE CAMPAIGN", processing: "PROCESSING DATA...", result_title: "RESULTS",
                viral_score: "Viral Score", viral_desc: "High organic reach potential detected.",
                schedule: "AI Schedule", copy_viral: "Viral Copy", star_text: "STAR TEXT â˜…",
                trends: "Detected Trends", publish: "PUBLISH NOW", new_btn: "NEW", ready: "READY",
                credits: "CREDITS", color_n: "NEUTRALS", color_nu: "NUDE", color_p: "PRIMARY", color_s: "SECONDARY", color_t: "TERTIARY", color_q: "QUATERNARY",
                loading_steps: ["SEARCHING WEB...", "ANALYZING TRENDS...", "STRUCTURING STRATEGY...", "GENERATING 8K IMAGE...", "WRITING VIRAL COPY..."],
                credit_text: '"Creativity is intelligence having fun." - Albert Einstein',
                creator_title: "MEET THE CREATOR", creator_role: "CO-FOUNDER & CSIO", creator_bio: "Strategic visionary mastering AI and algorithms. Roddy Smith isn't just predicting the future of marketing, he is building it.", creator_mission: "Our mission is to shatter entry barriers. CLICK IA was born to change the world, empowering every entrepreneur with tech once reserved for giants.",
                download: "DOWNLOAD IMAGE", copy_clipboard: "COPY TEXT",
                cloud_welcome: "WELCOME TO YOUR CLOUD", cloud_desc: "All your campaigns are safe here.",
                edit_design: "ðŸ› ï¸ OPEN DESIGN STUDIO", editor_title: "NANO-STUDIO", save_design: "SAVE DESIGN", close_editor: "CLOSE",
                edit_text_1: "Main Text", edit_text_2: "Subtitle", edit_size: "Logo Size",
                default_promo: "Limited time only",
                copy_headline: "Ready for the next level?", copy_body_1: "It's not just", copy_body_2: "It's an experience.", 
                copy_offer: "Exclusive offer:", copy_cta: "ðŸ“² Order here:",
                plans: "PLANES", p_names: ["BEGINNER", "BUSINESS", "AGENCY"], p_subs: ["MONTHLY", "ONE TIME 1 YEAR", "ONE TIME PAYMENT"], rec: "RECOMMENDED", buy: "BUY NOW", sel: "SELECT", f_1: ["1 Month Service", "4K High Definition", "50 Posts Monthly"], f_2: ["1 YEAR Service", "8K High Definition", "100 Posts Monthly", "VIP Support"], f_3: ["1 Month Service", "8K High Definition", "Unlimited", "White Label"], faq_title: "FREQUENT QUESTIONS", q1: "WHAT IS MARKETING?", a1: "Marketing is not selling.", q2: "WHAT IS THE APP FOR?", a2: "Click IA clones...", q3: "WHAT DO I GAIN?", a3: "You gain 6 hours...", before: "Before", after: "After"
            },
            ZH: {
                enter: "ç™»å½•", prices: "ä»·æ ¼", faq: "å¸¸é—®é—®é¢˜",
                powered: "Powered by Gemini",
                hero_mk: "è¥é”€çš„æœªæ¥", hero_auto: "é¢å‘ä¼ä¸š.",
                bullets: ['æœ€æ–°æŠ€æœ¯', 'å…‰é€Ÿ', 'ç¥žç»è¥é”€', 'å®Œå…¨èŠ‚çœ', 'é”€å”®ä¸“å®¶'],
                cta_trial: "èŽ·å¾—å…è´¹è¯•ç”¨", cta_posts: "æ¯æœˆç”Ÿæˆ50ä¸ªå¸–å­",
                setup_title: "èº«ä»½è¯†åˆ«", setup_desc: "è¾“å…¥æ‚¨çš„è¯¦ç»†ä¿¡æ¯ä»¥è¿žæŽ¥ã€‚", setup_btn: "è¿žæŽ¥å¹¶è¿›å…¥",
                lbl_email: "æ‚¨çš„ç”µå­é‚®ä»¶", ph_email: "ex@company.com",
                lbl_api: "æ‚¨çš„ GOOGLE GEMINI API å¯†é’¥", ph_api: "ç²˜è´´æ‚¨çš„ AIza å¯†é’¥...",
                upload_title: "ç¬¬ä¸€é˜¶æ®µï¼šèµ„äº§ä¸Šä¼ ", upload_prod: "äº§å“", upload_logo: "æ ‡å¿—", next: "ä¸‹ä¸€æ­¥",
                q1_title: "è°æ˜¯ä½ çš„å®¢æˆ·ï¼Ÿ", q1_ph: "ä¾‹å¦‚ï¼šå¹´è½»å¥³æ€§ï¼Œè¿åŠ¨å‘˜...",
                q2_title: "äº§å“è¯¦æƒ…", q2_p1: "ä½ å–ä»€ä¹ˆï¼Ÿï¼ˆä¾‹å¦‚ï¼šæ±‰å ¡ï¼‰", q2_p2: "ä»·æ ¼ ($)", q2_p3: "ä¿ƒé”€ï¼ˆå¯é€‰ï¼‰",
                q3_title: "å…¬å¸æ•°æ®", q3_p1: "å…¬å¸åç§°...", q3_p2: "WhatsApp (593...)",
                q4_title: "ä½ çš„çµæ„Ÿ", q4_ph1: "ä¾‹å¦‚ï¼šApple, Nike...", q4_upload: "æˆ–ä¸Šä¼ å‚è€ƒç…§ç‰‡", q4_change: "æ›´æ”¹å›¾ç‰‡",
                q5_title: "è°ƒè‰²æ¿", style_title: "é€‰æ‹©é£Žæ ¼", light_title: "ç¯å…‰",
                google_data: "Google Data Pro", google_desc: "ä½¿ç”¨çœŸå®žæœç´¢æ•°æ®",
                gen_btn: "ç”Ÿæˆæ´»åŠ¨", processing: "å¤„ç†æ•°æ®...", result_title: "ç»“æžœ",
                viral_score: "ç—…æ¯’è¯„åˆ†", viral_desc: "æ£€æµ‹åˆ°é«˜æœ‰æœºè¦†ç›–æ½œåŠ›ã€‚",
                schedule: "AI æ—¶é—´è¡¨", copy_viral: "ç—…æ¯’å¼æ–‡æ¡ˆ", star_text: "æ˜Ÿçº§æ–‡æœ¬ â˜…",
                trends: "æ£€æµ‹åˆ°çš„è¶‹åŠ¿", publish: "ç«‹å³å‘å¸ƒ", new_btn: "æ–°å»º", ready: "å‡†å¤‡å¥½",
                credits: "å­¦åˆ†", color_n: "ä¸­æ€§è‰²", color_nu: "è£¸è‰²", color_p: "åŽŸè‰²", color_s: "äºŒæ¬¡è‰²", color_t: "ä¸‰æ¬¡è‰²", color_q: "å››æ¬¡è‰²",
                loading_steps: ["æœç´¢ç½‘ç»œ...", "åˆ†æžè¶‹åŠ¿...", "æž„å»ºç­–ç•¥...", "ç”Ÿæˆ 8K å›¾åƒ...", "ç¼–å†™ç—…æ¯’å¼æ–‡æ¡ˆ..."],
                credit_text: '"åˆ›æ„æ˜¯æ™ºæ…§åœ¨çŽ©è€ã€‚" - Albert Einstein',
                creator_title: "é‡è§åˆ›ä½œè€…", creator_role: "è”åˆåˆ›å§‹äºº & é¦–å¸­æˆ˜ç•¥å®˜", creator_bio: "æŽŒæ¡äººå·¥æ™ºèƒ½å’Œç®—æ³•çš„æˆ˜ç•¥è¿œè§è€…ã€‚Roddy Smith ä¸ä»…ä»…æ˜¯åœ¨é¢„æµ‹è¥é”€çš„æœªæ¥ï¼Œä»–æ­£åœ¨åˆ›é€ å®ƒã€‚", creator_mission: "æˆ‘ä»¬çš„ä½¿å‘½æ˜¯æ‰“ç ´è¿›å…¥å£åž’ã€‚CLICK IA çš„è¯žç”Ÿæ˜¯ä¸ºäº†æ”¹å˜ä¸–ç•Œï¼Œç”¨æ›¾ç»åªæœ‰å·¨å¤´æ‰æ‹¥æœ‰çš„æŠ€æœ¯èµ‹äºˆæ¯ä¸€ä½ä¼ä¸šå®¶æƒåŠ›ã€‚",
                download: "ä¸‹è½½å›¾ç‰‡", copy_clipboard: "å¤åˆ¶æ–‡æœ¬",
                cloud_welcome: "æ¬¢è¿Žæ¥åˆ°æ‚¨çš„äº‘", cloud_desc: "æ‚¨çš„æ‰€æœ‰æ´»åŠ¨éƒ½åœ¨è¿™é‡Œå®‰å…¨ã€‚",
                edit_design: "ðŸ› ï¸ æ‰“å¼€è®¾è®¡å·¥ä½œå®¤", editor_title: "çº³ç±³å·¥ä½œå®¤", save_design: "ä¿å­˜è®¾è®¡", close_editor: "å…³é—­",
                edit_text_1: "ä¸»è¦æ–‡æœ¬", edit_text_2: "å‰¯æ ‡é¢˜", edit_size: "æ ‡å¿—å°ºå¯¸",
                default_promo: "é™æ—¶ä¼˜æƒ ",
                copy_headline: "å‡†å¤‡å¥½è¿›å…¥ä¸‹ä¸€ä¸ªå±‚çº§äº†å—ï¼Ÿ", copy_body_1: "è¿™ä¸ä»…ä»…æ˜¯", copy_body_2: "è¿™æ˜¯ä¸€ç§ä½“éªŒã€‚", 
                copy_offer: "ç‹¬å®¶ä¼˜æƒ ï¼š", copy_cta: "ðŸ“² åœ¨æ­¤ä¸‹å•ï¼š",
                plans: "PLANES", p_names: ["PRINCIPIANTE", "EMPRESA", "AGENCIA"], p_subs: ["MENSUAL", "PAGO ÃšNICO 1 AÃ‘O", "PAGO ÃšNICO"], rec: "RECOMENDADO", buy: "COMPRAR AHORA", sel: "SELECCIONAR", f_1: ["1 Mes de Servicio", "4K High Definition", "50 Post Mensuales"], f_2: ["1 AÃ‘O de Servicio", "8K High Definition", "100 Post Mensuales", "Soporte VIP"], f_3: ["1 Mes de Servicio", "8K High Definition", "Ilimitado", "Marca Blanca"], faq_title: "PREGUNTAS FRECUENTES", q1: "Â¿QUÃ‰ ES MARKETING?", a1: "El Marketing no es vender. Es que te elijan.", q2: "Â¿PARA QUE SIRVE LA APP?", a2: "Click IA clona el cerebro de los mejores publicistas.", q3: "Â¿QUÃ‰ GANO CON LA APP?", a3: "Ganas tiempo y calidad mundial.", before: "å‰", after: "åŽ"
            },
            FR: {
                enter: "S'IDENTIFIER", prices: "TARIFS", faq: "FAQ",
                powered: "Powered by Gemini",
                hero_mk: "L'AVENIR DU MARKETING", hero_auto: "POUR LES ENTREPRISES.",
                bullets: ['DerniÃ¨re Tech', 'Vitesse LumiÃ¨re', 'Neuromarketing', 'Ã‰conomies Totales', 'Expert Vente'],
                cta_trial: "ESSAI GRATUIT", cta_posts: "GÃ‰NÃ‰REZ 50 POSTS/MOIS",
                setup_title: "IDENTIFICATION", setup_desc: "Entrez vos coordonnÃ©es pour vous connecter.", setup_btn: "CONNECTER & ENTRER",
                lbl_email: "VOTRE EMAIL", ph_email: "ex@company.com",
                lbl_api: "VOTRE CLÃ‰ API GOOGLE GEMINI", ph_api: "Collez votre clÃ© AIza...",
                upload_title: "Phase 1 : Chargement des actifs", upload_prod: "PRODUIT", upload_logo: "LOGO", next: "SUIVANT",
                q1_title: "QUI EST VOTRE CLIENT ?", q1_ph: "Ex : Jeunes femmes, sportives...",
                q2_title: "DÃ‰TAILS DU PRODUIT", q2_p1: "Que vendez-vous ? (Ex : Burger)", q2_p2: "Prix ($)", q2_p3: "Promotion (Optionnel)",
                q3_title: "DONNÃ‰ES DE L'ENTREPRISE", q3_p1: "Nom de votre entreprise...", q3_p2: "WhatsApp (593...)",
                q4_title: "VOTRE INSPIRATION", q4_ph1: "Ex : Apple, Nike...", q4_upload: "Ou tÃ©lÃ©chargez une photo", q4_change: "Changer l'image",
                q5_title: "PALETTE DE COULEURS", style_title: "CHOISISSEZ LE STYLE", light_title: "Ã‰CLAIRAGE",
                google_data: "Google Data Pro", google_desc: "Utiliser des donnÃ©es rÃ©elles",
                gen_btn: "GÃ‰NÃ‰RER CAMPAGNE", processing: "TRAITEMENT DES DONNÃ‰ES...", result_title: "RÃ‰SULTATS",
                viral_score: "Score Viral", viral_desc: "Haut potentiel de portÃ©e organique dÃ©tectÃ©.",
                schedule: "Calendrier IA", copy_viral: "Copy Viral", star_text: "TEXTE STAR â˜…",
                trends: "Tendances DÃ©tectÃ©es", publish: "PUBLIER MAINTENANT", new_btn: "NOUVEAU", ready: "PRÃŠT",
                credits: "CRÃ‰DITS", color_n: "NEUTRES", color_nu: "NUDE", color_p: "PRIMAIRES", color_s: "SECONDAIRES", color_t: "TERTIAIRES", color_q: "QUATERNAIRES",
                loading_steps: ["RECHERCHE WEB...", "ANALYSE TENDANCES...", "STRUCTURATION STRATÃ‰GIE...", "GÃ‰NÃ‰RATION IMAGE 8K...", "RÃ‰DACTION COPY VIRAL..."],
                credit_text: '"La crÃ©ativitÃ©, c\'est l\'intelligence qui s\'amuse." - Albert Einstein',
                creator_title: "RENCONTREZ LE CRÃ‰ATEUR", creator_role: "CO-FONDATEUR & CSIO", creator_bio: "Visionnaire stratÃ©gique maÃ®trisant l'IA et les algorithmes. Roddy Smith ne se contente pas de prÃ©dire l'avenir du marketing, il le construit.", creator_mission: "Notre mission est de briser les barriÃ¨res. CLICK IA est nÃ© pour changer le monde, en donnant Ã  chaque entrepreneur la technologie autrefois rÃ©servÃ©e aux gÃ©ants.",
                download: "TÃ‰LÃ‰CHARGER IMAGE", copy_clipboard: "COPIER TEXTE",
                cloud_welcome: "BIENVENUE SUR VOTRE CLOUD", cloud_desc: "Toutes vos campagnes sont ici.",
                edit_design: "ðŸ› ï¸ OUVRIR STUDIO DE DESIGN", editor_title: "NANO-STUDIO", save_design: "SAUVEGARDER", close_editor: "FERMER",
                edit_text_1: "Texte Principal", edit_text_2: "Sous-titre", edit_size: "Taille Logo",
                default_promo: "DurÃ©e limitÃ©e",
                copy_headline: "PrÃªt pour le niveau supÃ©rieur ?", copy_body_1: "Ce n'est pas juste", copy_body_2: "C'est une expÃ©rience.", 
                copy_offer: "Offre exclusive :", copy_cta: "ðŸ“² Commandez ici :",
                plans: "PLANES", p_names: ["PRINCIPIANTE", "EMPRESA", "AGENCIA"], p_subs: ["MENSUAL", "PAGO ÃšNICO 1 AÃ‘O", "PAGO ÃšNICO"], rec: "RECOMENDADO", buy: "COMPRAR AHORA", sel: "SELECCIONAR", f_1: ["1 Mes de Servicio", "4K High Definition", "50 Post Mensuales"], f_2: ["1 AÃ‘O de Servicio", "8K High Definition", "100 Post Mensuales", "Soporte VIP"], f_3: ["1 Mes de Servicio", "8K High Definition", "Ilimitado", "Marca Blanca"], faq_title: "PREGUNTAS FRECUENTES", q1: "Â¿QUÃ‰ ES MARKETING?", a1: "El Marketing no es vender. Es que te elijan.", q2: "Â¿PARA QUE SIRVE LA APP?", a2: "Click IA clona el cerebro de los mejores publicistas.", q3: "Â¿QUÃ‰ GANO CON LA APP?", a3: "Ganas tiempo y calidad mundial.", before: "Avant", after: "AprÃ¨s"
            }
        };

        // --- COMPONENTES PRINCIPALES ---
        
        const NeuralBrain = () => {
            const canvasRef = useRef(null);
            useEffect(() => {
                const canvas = canvasRef.current;
                if (!canvas) return;
                const ctx = canvas.getContext('2d');
                let width = canvas.width = 300; let height = canvas.height = 300;
                let particles = [];
                for(let i=0; i<60; i++) particles.push({x: Math.random()*width, y: Math.random()*height, vx: (Math.random()-0.5), vy: (Math.random()-0.5)});
                const animate = () => {
                    ctx.clearRect(0,0,width,height);
                    particles.forEach((p, i) => {
                        p.x += p.vx; p.y += p.vy;
                        if(p.x < 0 || p.x > width) p.vx *= -1; if(p.y < 0 || p.y > height) p.vy *= -1;
                        ctx.fillStyle = '#06b6d4'; ctx.beginPath(); ctx.arc(p.x, p.y, 2, 0, Math.PI*2); ctx.fill();
                        particles.slice(i+1).forEach(p2 => {
                            let d = Math.hypot(p.x-p2.x, p.y-p2.y);
                            if(d < 70) { ctx.beginPath(); ctx.strokeStyle = `rgba(6, 182, 212, ${0.2 * (1 - d/70)})`; ctx.moveTo(p.x, p.y); ctx.lineTo(p2.x, p2.y); ctx.stroke(); }
                        });
                    });
                    requestAnimationFrame(animate);
                };
                animate();
            }, []);
            return <canvas ref={canvasRef} className="w-40 h-40 mx-auto mb-6 rounded-full bg-black/40 border border-cyan-500/20 shadow-[0_0_40px_rgba(6,182,212,0.2)]" />;
        };

        const ComparisonSlider = ({ beforeImage, afterImage, tLang }) => {
            const [sliderPos, setSliderPos] = useState(50);
            const containerRef = useRef(null);
            const handleMove = (e) => {
                if (!containerRef.current) return;
                const rect = containerRef.current.getBoundingClientRect();
                const clientX = e.clientX || (e.touches && e.touches[0].clientX);
                if (clientX === undefined) return;
                const x = (clientX - rect.left) / rect.width * 100;
                setSliderPos(Math.min(100, Math.max(0, x)));
            };
            return (
                <div className="relative w-full h-full overflow-hidden cursor-ew-resize select-none rounded-xl border border-white/20 shadow-2xl bg-black" ref={containerRef} onMouseMove={handleMove} onTouchMove={handleMove}>
                    <img src={afterImage} alt="After" className="absolute top-0 left-0 w-full h-full object-cover" />
                    <div className="absolute top-0 left-0 h-full overflow-hidden border-r-2 border-white" style={{ width: `${sliderPos}%` }}><img src={beforeImage} alt="Before" className="absolute top-0 left-0 h-full max-w-none object-cover" style={{ width: containerRef.current ? containerRef.current.offsetWidth : '100%' }} /></div>
                    <div className="absolute top-1/2 w-10 h-10 bg-white rounded-full flex items-center justify-center text-black shadow-lg transform -translate-y-1/2 -translate-x-1/2 pointer-events-none" style={{ left: `${sliderPos}%` }}><Icons.Sliders /></div>
                    <div className="absolute bottom-4 left-4 bg-red-600 text-white text-xs font-bold px-2 py-1 rounded uppercase shadow-md">{tLang.before}</div>
                    <div className="absolute bottom-4 right-4 bg-green-500 text-black text-xs font-bold px-2 py-1 rounded uppercase shadow-md">{tLang.after}</div>
                </div>
            );
        };

        const PricingCard = ({ title, price, features, recommended, onSelect, strike, sub, tLang }) => (
            <div className={`relative p-6 md:p-8 rounded-xl flex flex-col gap-6 transition-transform duration-300 hover:scale-105 ${recommended ? 'glass border-cyan-500 shadow-[0_0_40px_rgba(6,182,212,0.3)] transform scale-110 z-10' : 'glass opacity-80 hover:opacity-100'}`}>
                {recommended && <div className="absolute -top-4 left-1/2 transform -translate-x-1/2 bg-cyan-500 text-black font-black text-[10px] uppercase tracking-widest py-1 px-4 clip-path-slanted animate-pulse">{tLang.rec}</div>}
                <div><h3 className="text-gray-400 font-bold uppercase tracking-widest text-xs mb-2 font-tech">{title}</h3><div className="flex items-baseline gap-1 justify-center md:justify-start"><span className="text-5xl font-black text-white font-tech">${price}</span>{strike && <span className="text-sm text-red-500 line-through font-bold">${strike}</span>}</div><p className="text-xs text-gray-500 mt-2 font-mono uppercase">{sub}</p></div>
                <ul className="space-y-3 flex-1">{features.map((f, i) => (<li key={i} className="flex items-start gap-3 text-xs text-gray-300 font-tech"><div className={`mt-0.5 ${recommended ? 'text-cyan-400' : 'text-gray-600'}`}><Icons.Check /></div>{f}</li>))}</ul>
                <button onClick={onSelect} className={`w-full py-4 font-black uppercase tracking-widest text-xs transition-all clip-path-slanted ${recommended ? 'tech-btn' : 'border border-white/20 hover:bg-white/10'}`}>{recommended ? tLang.buy : tLang.sel}</button>
            </div>
        );

        const DesignEditor = ({ image, logo, initialText, onSave, onClose, tLang }) => {
            const canvasRef = useRef(null);
            const [elements, setElements] = useState([]);
            const [selectedId, setSelectedId] = useState(null);
            const [dragging, setDragging] = useState(false);
            const [loading, setLoading] = useState(true);

            useEffect(() => {
                if (!image) return;
                const img = new Image();
                img.crossOrigin = "anonymous";
                img.src = image;
                img.onload = () => {
                    setLoading(false);
                    if(canvasRef.current) {
                        const ctx = canvasRef.current.getContext('2d');
                        const ratio = img.height / img.width;
                        canvasRef.current.width = 800;
                        canvasRef.current.height = 800 * ratio;
                        drawCanvas();
                    }
                };
                if(elements.length === 0) {
                    setElements([
                         { id: 1, type: 'text', content: initialText.top, x: 50, y: 100, size: 60, color: initialText.colorTop, font: 'Chakra Petch' },
                         { id: 2, type: 'text', content: initialText.bottom, x: 50, y: 700, size: 40, color: initialText.colorBot, font: 'Chakra Petch' }
                    ]);
                }
            }, [image]);

            const drawCanvas = useCallback(() => {
                const canvas = canvasRef.current;
                if (!canvas) return;
                const ctx = canvas.getContext('2d');
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                
                const bg = new Image();
                bg.crossOrigin = "anonymous";
                bg.src = image;
                if (bg.complete) ctx.drawImage(bg, 0, 0, canvas.width, canvas.height);

                elements.forEach(el => {
                    if (el.type === 'text') {
                        ctx.font = `bold ${el.size}px "${el.font || 'Chakra Petch'}"`;
                        ctx.fillStyle = el.color;
                        ctx.fillText(el.content, el.x, el.y);
                        if (el.id === selectedId) {
                            ctx.strokeStyle = '#06b6d4'; ctx.lineWidth = 2;
                            ctx.strokeRect(el.x - 5, el.y - el.size, ctx.measureText(el.content).width + 10, el.size + 10);
                        }
                    } else if (el.type === 'image') {
                        const img = new Image();
                        img.src = el.content;
                        if (img.complete) ctx.drawImage(img, el.x, el.y, el.size, el.size);
                        if (el.id === selectedId) {
                            ctx.strokeStyle = '#06b6d4'; ctx.lineWidth = 2;
                            ctx.strokeRect(el.x, el.y, el.size, el.size);
                        }
                    }
                });
            }, [image, elements, selectedId]);

            useEffect(() => { if (!loading) drawCanvas(); }, [drawCanvas, loading, elements]);

            const addText = () => setElements([...elements, { id: Date.now(), type: 'text', content: 'NUEVO TEXTO', x: 100, y: 300, size: 50, color: '#FFFFFF', font: 'Chakra Petch' }]);
            const handleImageUpload = (e) => {
                const file = e.target.files[0];
                if(file) {
                    const reader = new FileReader();
                    reader.onload = (f) => {
                        const img = new Image();
                        img.onload = () => setElements([...elements, { id: Date.now(), type: 'image', content: f.target.result, x: 200, y: 200, size: 200 }]);
                        img.src = f.target.result;
                    };
                    reader.readAsDataURL(file);
                }
            };
            const handleMouseDown = (e) => {
                const rect = canvasRef.current.getBoundingClientRect();
                const scaleX = canvasRef.current.width / rect.width;
                const scaleY = canvasRef.current.height / rect.height;
                const x = (e.clientX - rect.left) * scaleX;
                const y = (e.clientY - rect.top) * scaleY;
                const clicked = elements.slice().reverse().find(el => {
                    if(el.type === 'text') return Math.abs(el.x - x) < 150 && Math.abs(el.y - y) < 50; // Rough hitbox
                    return Math.abs(el.x - x) < el.size && Math.abs(el.y - y) < el.size;
                });
                if (clicked) { setSelectedId(clicked.id); setDragging(true); } else { setSelectedId(null); }
            };
            const handleMouseMove = (e) => {
                if (dragging && selectedId) {
                    const rect = canvasRef.current.getBoundingClientRect();
                    const scaleX = canvasRef.current.width / rect.width;
                    const scaleY = canvasRef.current.height / rect.height;
                    const x = (e.clientX - rect.left) * scaleX;
                    const y = (e.clientY - rect.top) * scaleY;
                    setElements(prev => prev.map(el => el.id === selectedId ? { ...el, x, y } : el));
                }
            };
            const updateSelected = (key, value) => setElements(prev => prev.map(el => el.id === selectedId ? { ...el, [key]: value } : el));
            const deleteSelected = () => { setElements(prev => prev.filter(el => el.id !== selectedId)); setSelectedId(null); };
            
            const download = () => {
                const link = document.createElement('a');
                link.download = `CLICK_IA_MASTERPIECE_${Date.now()}.jpg`;
                link.href = canvasRef.current.toDataURL('image/jpeg', 0.95);
                link.click();
            };

            return (
                <div className="fixed inset-0 z-[100] flex items-center justify-center bg-black/95 p-4 fade-enter">
                    <div className="w-full max-w-7xl h-[90vh] flex border border-gray-800 rounded-xl overflow-hidden bg-[#050505]">
                        <div className="w-72 bg-[#111] border-r border-gray-800 p-6 flex flex-col gap-6">
                             <h3 className="font-tech text-cyan-400 text-2xl mb-2">{tLang.editor_title}</h3>
                             <div className="grid grid-cols-2 gap-2">
                                <button onClick={addText} className="editor-btn text-xs flex-col py-3"><Icons.Text /> TEXTO</button>
                                <label className="editor-btn text-xs flex-col py-3 cursor-pointer"><Icons.Image /> IMAGEN <input type="file" hidden onChange={handleImageUpload} /></label>
                             </div>
                             {selectedId ? (
                                 <div className="space-y-4 animate-pulse-fast bg-white/5 p-4 rounded-lg">
                                     <p className="text-[10px] font-bold text-gray-400 uppercase">EDITANDO</p>
                                     {elements.find(e => e.id === selectedId)?.type === 'text' && (
                                         <>
                                            <input className="glass-input text-xs" value={elements.find(e => e.id === selectedId).content} onChange={e => updateSelected('content', e.target.value)} />
                                            <div className="flex gap-2">
                                                <input type="color" className="h-8 w-8 bg-transparent cursor-pointer" onChange={e => updateSelected('color', e.target.value)} />
                                                <input type="range" className="flex-1" min="10" max="200" value={elements.find(e => e.id === selectedId).size} onChange={e => updateSelected('size', e.target.value)} />
                                            </div>
                                            <select className="glass-input text-xs" onChange={e => updateSelected('font', e.target.value)}>
                                                <option value="Chakra Petch">Tech (Chakra)</option>
                                                <option value="Inter">Modern (Inter)</option>
                                                <option value="Oswald">Impact (Oswald)</option>
                                                <option value="Playfair Display">Luxury (Serif)</option>
                                                <option value="Montserrat">Clean (Montserrat)</option>
                                                <option value="Roboto Mono">Code (Mono)</option>
                                            </select>
                                         </>
                                     )}
                                     {elements.find(e => e.id === selectedId)?.type === 'image' && (
                                         <input type="range" min="50" max="800" value={elements.find(e => e.id === selectedId).size} onChange={e => updateSelected('size', e.target.value)} />
                                     )}
                                     <button onClick={deleteSelected} className="w-full py-2 bg-red-900/30 text-red-400 rounded text-xs flex items-center justify-center gap-2 hover:bg-red-900/50"><Icons.Trash /> ELIMINAR</button>
                                 </div>
                             ) : <div className="text-center py-10 text-gray-600 text-xs">Selecciona un elemento para editar.</div>}
                             <div className="mt-auto flex flex-col gap-2">
                                <button onClick={download} className="tech-btn bg-cyan-500 text-black border-none w-full flex justify-center gap-2"><Icons.Download /> DESCARGAR HD</button>
                                <button onClick={onClose} className="w-full py-3 border border-gray-700 rounded text-xs hover:bg-white/5">{tLang.close_editor}</button>
                             </div>
                        </div>
                        <div className="flex-1 bg-[#080808] canvas-container flex items-center justify-center relative overflow-hidden p-10">
                             {loading ? <div className="text-cyan-500 animate-pulse font-tech text-xl">CARGANDO ESTUDIO...</div> : <canvas ref={canvasRef} className="bg-white shadow-2xl cursor-move max-w-full max-h-full border border-gray-700" onMouseDown={handleMouseDown} onMouseMove={handleMouseMove} onMouseUp={() => setDragging(false)} onMouseLeave={() => setDragging(false)} />}
                        </div>
                    </div>
                </div>
            );
        };

        const QuestionScreen = ({ title, color, children, onNext, onPrev, credits, setView, tLang }) => (
            <div className="min-h-screen flex flex-col items-center justify-center p-6 fade-enter relative">
                <div className="absolute top-0 left-0 w-full p-6 flex justify-center items-center gap-6 z-50 pointer-events-none">
                     <div className="pointer-events-auto"><button onClick={() => setView('pricing')} className="flex items-center gap-2 px-4 py-2 bg-black/40 backdrop-blur-md rounded-full border border-yellow-500/30 hover:border-yellow-400 hover:scale-105 transition-all shadow-lg group"><span className="text-yellow-400 group-hover:rotate-12 transition-transform"><Icons.Credit /></span><span className="text-xs font-bold font-tech text-white">{credits} {tLang.credits}</span><span className="w-4 h-4 bg-yellow-500 text-black rounded-full flex items-center justify-center text-[10px] font-bold">+</span></button></div>
                    <div className="pointer-events-auto flex items-center gap-2 cursor-pointer group" onClick={() => setView('landing')}><Icons.Logo /><span className="text-xl font-black font-tech tracking-tighter group-hover:text-cyan-400 transition-colors">CLICK.IA</span></div>
                    <div className="pointer-events-auto flex items-center gap-1 text-[8px] text-cyan-400 font-bold uppercase tracking-[0.2em] bg-cyan-900/20 px-3 py-2 rounded-full border border-cyan-500/20"><Icons.Google /> {tLang.powered}</div>
                </div>
                <div className="w-full max-w-2xl glass p-12 rounded-3xl text-center relative mt-20">
                    <div className="absolute top-8 left-8 cursor-pointer text-gray-500 hover:text-white" onClick={onPrev}><Icons.ChevronLeft /></div>
                    <h2 className={`text-2xl font-bold font-tech mb-8 ${color}`}>{title}</h2>
                    {children}
                    <div className="embedded-credit">{tLang.credit_text}</div>
                    <button onClick={onNext} className="tech-btn w-full mt-10 py-4 rounded-xl">{tLang.next}</button>
                </div>
            </div>
        );

        // --- APP ---
        const App = () => {
            const [view, setView] = useState('landing');
            const [lang, setLang] = useState('ES'); 
            const [credits, setCredits] = useState(INITIAL_CREDITS);
            const [user, setUser] = useState(null); 
            const [userCloud, setUserCloud] = useState([]);
            const [isEditing, setIsEditing] = useState(false);

            const initialForm = { image: null, logo: null, inspirationImg: null, target: '', company: '', whatsapp: '', product: { name: '', price: '', promo: '' }, textOnImage: '', style: '', light: '', colors: [], googleData: false, inspiration: '', connected: { fb: false, ig: false, tk: false }, format: 'post' };
            const [formData, setFormData] = useState(initialForm);
            const [loadingText, setLoadingText] = useState('');
            const [progress, setProgress] = useState(0);
            const [isMuted, setIsMuted] = useState(false);
            const [textOverlay, setTextOverlay] = useState({ top: "TU MARCA", bottom: "OFERTA LIMITADA" });
            const [designState, setDesignState] = useState({ top: "TU MARCA", bottom: "OFERTA LIMITADA", logoSize: 24, colorTop: "#FFFFFF", colorBot: "#06b6d4", posTop: 33, posBot: 66 });
            const [resultImage, setResultImage] = useState(MAGIC_RESULT_IMAGE_DEFAULT);
            const [generatedCopy, setGeneratedCopy] = useState("");
            const [apiKey, setApiKey] = useState('');
            const [inputEmail, setInputEmail] = useState('');
            const [inputApiKey, setInputApiKey] = useState('');
            const fileInputProduct = useRef(null);
            const fileInputLogo = useRef(null);
            const fileInputInspiration = useRef(null);
            const t = TRANSLATIONS[lang];

            useEffect(() => { setTextOverlay({ top: t.txt_top, bottom: t.txt_bot }); setDesignState(prev => ({ ...prev, top: t.txt_top, bottom: t.txt_bot })); }, [lang]);
            useEffect(() => { const storedUser = localStorage.getItem('clickia_user'); const storedCloud = JSON.parse(localStorage.getItem('clickia_cloud') || '[]'); const storedKey = localStorage.getItem('clickia_apikey'); if (storedUser) { setUser(JSON.parse(storedUser)); setUserCloud(storedCloud); if(storedKey) setApiKey(storedKey); } }, []);

            const playSound = (type) => { if (isMuted) return; const audio = document.getElementById(`sfx-${type}`); if(audio) { audio.currentTime = 0; audio.play().catch(()=>{}); } if(type === 'click') { const bg = document.getElementById('bg-music'); if(bg && bg.paused) { bg.volume = 0.2; bg.play().catch(()=>{}); } } };
            const changeView = (v) => { playSound('click'); setView(v); };
            const handleUpload = (e, field) => { const file = e.target.files[0]; if(file) { playSound('click'); setFormData(prev => ({...prev, [field]: URL.createObjectURL(file)})); } };
            const updateProduct = (field, value) => { setFormData(prev => ({ ...prev, product: { ...prev.product, [field]: value } })); };
            const toggleColor = (color) => { playSound('click'); setFormData(prev => { const newColors = prev.colors.includes(color) ? prev.colors.filter(c => c !== color) : [...prev.colors, color].slice(0, 4); return { ...prev, colors: newColors }; }); };
            const handleNewGeneration = () => { playSound('click'); setFormData(initialForm); setResultImage(MAGIC_RESULT_IMAGE_DEFAULT); setGeneratedCopy(""); setView('upload'); };
            const handleLogin = () => { if(!inputEmail) return alert("Email required"); const fakeUser = { name: inputEmail.split('@')[0], email: inputEmail }; setUser(fakeUser); setApiKey(inputApiKey); localStorage.setItem('clickia_user', JSON.stringify(fakeUser)); if(inputApiKey) localStorage.setItem('clickia_apikey', inputApiKey); changeView('upload'); };
            const handleCopyText = () => { navigator.clipboard.writeText(generatedCopy); alert("Copy copiado!"); };
            const handleDownloadImage = () => { fetch(resultImage).then(response => response.blob()).then(blob => { const url = window.URL.createObjectURL(blob); const link = document.createElement('a'); link.href = url; link.download = `CLICK_IA_${Date.now()}.jpg`; document.body.appendChild(link); link.click(); document.body.removeChild(link); window.URL.revokeObjectURL(url); }).catch(e => { window.open(resultImage, '_blank'); }); };
            const saveDesign = (newState) => { setDesignState(newState); setIsEditing(false); playSound('success'); };
            const generateImageURL = (prompt) => { const encodedPrompt = encodeURIComponent(prompt); return `https://image.pollinations.ai/prompt/${encodedPrompt}?width=1080&height=1080&nologo=true&seed=${Math.floor(Math.random() * 10000)}`; };
            const callGeminiAPI = async (prompt) => { if (!apiKey) return null; try { const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${apiKey}`, { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] }) }); const data = await response.json(); return data.candidates?.[0]?.content?.parts?.[0]?.text; } catch (error) { console.error("Gemini Error:", error); return null; } };
            const generateDynamicCopy = () => { const product = formData.product.name || "Producto"; const promo = formData.product.promo || t.default_promo; const contact = formData.whatsapp || "5939999999"; const company = formData.company || "Tu Empresa"; let copy = ""; if (lang === 'ES') { copy = `ðŸš€ **Â¡${t.copy_headline}** ðŸš€\n\n${t.copy_body_1} ${product}. ${t.copy_body_2}\n\nðŸ”¥ **${t.copy_offer}** ${promo}\nðŸ“ Disponible en: ${company}\n\nðŸ‘‡ **Â¡No esperes mÃ¡s!** ðŸ‘‡\n${t.copy_cta} wa.me/${contact}\n\n#${product.replace(/\s/g,'')} #Viral #Trending2025 #${company.replace(/\s/g,'')}`; } else { copy = `ðŸš€ **${t.copy_headline}** ðŸš€\n\n${t.copy_body_1} ${product}. ${t.copy_body_2}\n\nðŸ”¥ **${t.copy_offer}** ${promo}\nðŸ“ Available at: ${company}\n\nðŸ‘‡ **Don't wait!** ðŸ‘‡\n${t.copy_cta} wa.me/${contact}\n\n#${product.replace(/\s/g,'')} #Viral #Trending2025 #${company.replace(/\s/g,'')}`; } return copy; };
            
            const restoreCampaign = (item) => { setResultImage(item.image); setGeneratedCopy(item.copy); setFormData(prev => ({...prev, logo: item.logo || null })); setView('result'); };

            const runEngine = async () => {
                if(!formData.style) return alert("Elige un estilo");
                if(credits <= 0) return alert("Â¡Te has quedado sin crÃ©ditos! Por favor recarga para continuar.");
                playSound('process'); setView('processing');
                const promptBase = formData.product.name || "luxury product";
                const magicPrompt = `Hyper-ultra-realistic 8k commercial photography of ${promptBase}, ${formData.style} aesthetic, ${formData.light}, perfect composition, golden ratio, product centered, vivid colors ${formData.colors.join(", ")}, highly detailed texture, 8k render, unreal engine 5 style, cinematic lighting, volumetric fog, professional advertising, award winning photography`;
                const newImageURL = generateImageURL(magicPrompt);
                let finalCopy = "";
                let copyPromise = null;
                if (apiKey) { const textPrompt = `Act as a world-class marketing expert. Write a short viral social media caption for ${promptBase}. Promo: ${formData.product.promo}. Company: ${formData.company}. Language: ${lang}. Include 5 trending hashtags.`; copyPromise = callGeminiAPI(textPrompt); }
                const steps = t.loading_steps;
                for(let i=0; i<steps.length; i++) { setLoadingText(steps[i]); setProgress(((i+1)/steps.length)*100); await new Promise(r => setTimeout(r, 800)); }
                if (copyPromise) { const res = await copyPromise; finalCopy = res || generateDynamicCopy(); } else { finalCopy = generateDynamicCopy(); }
                setResultImage(generateImageURL(magicPrompt)); setGeneratedCopy(finalCopy); setCredits(prev => prev - 1);
                const newItem = { id: Date.now(), image: generateImageURL(magicPrompt), copy: finalCopy, logo: formData.logo, date: new Date().toLocaleDateString() };
                const updatedCloud = [newItem, ...userCloud]; setUserCloud(updatedCloud); localStorage.setItem('clickia_cloud', JSON.stringify(updatedCloud));
                playSound('success'); setView('result');
            };

            const HeaderInternal = () => (<div className="absolute top-0 left-0 w-full p-6 flex justify-center items-center gap-6 z-50 pointer-events-none"><div className="pointer-events-auto"><button onClick={() => setView('pricing')} className="flex items-center gap-2 px-4 py-2 bg-black/40 backdrop-blur-md rounded-full border border-yellow-500/30 hover:border-yellow-400 hover:scale-105 transition-all shadow-lg group"><span className="text-yellow-400 group-hover:rotate-12 transition-transform"><Icons.Credit /></span><span className="text-xs font-bold font-tech text-white">{credits} {t.credits}</span><span className="w-4 h-4 bg-yellow-500 text-black rounded-full flex items-center justify-center text-[10px] font-bold">+</span></button></div><div className="pointer-events-auto flex items-center gap-2 cursor-pointer group" onClick={() => setView('landing')}><Icons.Logo /><span className="text-xl font-black font-tech tracking-tighter group-hover:text-cyan-400 transition-colors">CLICK.IA</span></div><div className="pointer-events-auto flex items-center gap-1 text-[8px] text-cyan-400 font-bold uppercase tracking-[0.2em] bg-cyan-900/20 px-3 py-2 rounded-full border border-cyan-500/20"><Icons.Google /> {t.powered}</div></div>);

            if (view === 'landing') return <div className="min-h-screen flex flex-col items-center justify-center p-6 text-center relative fade-enter"><nav className="absolute top-0 w-full p-6 flex justify-center items-center z-50"><div className="flex flex-wrap justify-center gap-4 items-center bg-black/40 backdrop-blur-xl p-3 rounded-full border border-white/10 shadow-2xl hover:border-white/20 transition-all duration-500"><div className="flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-yellow-500/10 to-transparent rounded-full border border-yellow-500/30"><span className="text-yellow-400 animate-pulse"><Icons.Credit /></span><span className="text-xs font-black font-tech text-yellow-100 tracking-widest">{credits} {t.credits}</span></div><div className="flex items-center gap-3 px-4 border-r border-white/10">{['ES', 'EN', 'ZH', 'FR'].map(l => (<button key={l} onClick={() => { playSound('click'); setLang(l); }} className={`text-[10px] font-bold font-tech transition-all duration-300 hover:scale-110 ${lang === l ? 'text-cyan-400 scale-110' : 'text-gray-500 hover:text-white'}`}>{l}</button>))}</div><div className="flex items-center gap-2"><button onClick={() => {playSound('click'); setView('setup')}} className="text-xs font-bold text-white hover:text-cyan-400 font-tech uppercase tracking-widest px-4 py-2 hover:bg-white/5 rounded-full transition-all">{t.enter}</button><button onClick={() => {playSound('click'); setView('pricing')}} className="text-xs font-bold text-gray-300 hover:text-white font-tech uppercase tracking-widest bg-white/5 border border-white/10 px-5 py-2 rounded-full hover:bg-white/20 transition-all shadow-lg">{t.prices}</button><button onClick={() => {playSound('click'); setView('faq')}} className="text-xs font-bold text-gray-300 hover:text-white font-tech uppercase tracking-widest bg-white/5 border border-white/10 px-5 py-2 rounded-full hover:bg-white/20 transition-all shadow-lg">{t.faq}</button></div></div></nav><div className="z-10 max-w-6xl w-full flex flex-col items-center mt-40"><div className="flex flex-col md:flex-row items-center justify-center gap-6 mb-12 animate-pulse-fast"><div className="flex items-center gap-3 select-none"><div className="transform scale-150"><Icons.Logo /></div><span className="text-5xl font-black font-tech tracking-tighter">CLICK<span className="text-cyan-400">.IA</span></span></div><div className="hidden md:block w-px h-12 bg-gradient-to-b from-transparent via-white/30 to-transparent"></div><div className="inline-flex items-center gap-3 px-5 py-2 glass rounded-full border border-cyan-500/30 text-cyan-400 text-xs font-bold uppercase tracking-[0.2em] shadow-[0_0_20px_rgba(6,182,212,0.15)]"><Icons.Google /> {t.powered}</div></div><h1 className="text-4xl md:text-7xl font-black font-tech mb-8 leading-none tracking-tighter drop-shadow-[0_0_30px_rgba(255,255,255,0.3)]">{t.hero_mk} <br/><span className="text-transparent bg-clip-text bg-gradient-to-b from-white to-gray-700">{t.hero_auto}</span></h1><div className="flex flex-wrap justify-center gap-4 mb-12 text-xs font-bold uppercase tracking-widest text-gray-300">{t.bullets.map(b => (<div key={b} className="flex items-center gap-2 bg-white/5 px-3 py-1 rounded border border-white/10"><Icons.Check /> {b}</div>))}</div><div className="w-full max-w-4xl h-96 mb-12 shadow-[0_0_50px_rgba(6,182,212,0.2)] rounded-2xl overflow-hidden border border-white/20"><ComparisonSlider beforeImage={UGLY_BURGER_IMAGE} afterImage={MAGIC_RESULT_IMAGE_DEFAULT} tLang={t} /></div><div className="flex flex-col items-center gap-3 mb-12"><button onClick={() => {playSound('click'); setView('setup')}} className="tech-btn px-16 py-6 text-xl rounded-full flex items-center gap-4 mx-auto shadow-[0_0_50px_rgba(6,182,212,0.4)]">{t.cta_trial}</button><div className="flex items-center gap-2 text-cyan-400 font-bold text-sm uppercase tracking-widest animate-pulse"><Icons.Zap /> {t.cta_posts}</div></div><div className="w-full max-w-4xl glass p-8 rounded-3xl border border-white/10 mb-20 flex flex-col md:flex-row items-center gap-8 text-left relative overflow-hidden"><div className="absolute -top-20 -right-20 w-64 h-64 bg-cyan-500/20 rounded-full blur-3xl"></div><div className="w-40 h-40 md:w-48 md:h-48 rounded-full border-4 border-white/10 shadow-2xl flex-shrink-0 overflow-hidden relative z-10"><img src={CREATOR_IMAGE} className="w-full h-full object-cover" /></div><div className="flex-1 relative z-10"><div className="text-xs font-bold text-cyan-400 uppercase tracking-widest mb-2">{t.creator_title}</div><h3 className="text-3xl font-black font-tech mb-1">RODDY SMITH</h3><p className="text-xs font-bold text-gray-400 uppercase tracking-wider mb-4">{t.creator_role}</p><p className="text-sm text-gray-300 leading-relaxed mb-4 italic border-l-2 border-cyan-500 pl-4">"{t.creator_bio}"</p><p className="text-xs text-gray-400 leading-relaxed">{t.creator_mission}</p></div></div><div className="floating-credit">{t.credit_text}</div></div></div>;
            if (view === 'setup') return <div className="min-h-screen flex items-center justify-center p-6"><div className="w-full max-w-md glass p-10 rounded-2xl text-center relative overflow-hidden"><button onClick={() => changeView('landing')} className="absolute top-4 right-4 text-gray-500 hover:text-white"><Icons.X /></button><h2 className="text-3xl font-bold font-tech mb-2">{t.setup_title}</h2><p className="text-gray-400 text-sm mb-8">{t.setup_desc}</p>{user ? (<div className="text-center mb-6"><p className="text-green-400 font-bold mb-4">Â¡Hola, {user.name}!</p><button onClick={() => changeView('upload')} className="w-full py-4 bg-white text-black font-black uppercase tracking-widest hover:bg-cyan-400 transition-colors rounded-lg mb-4">CREAR CAMPAÃ‘A</button><div className="text-left mt-6"><h4 className="text-xs font-bold text-gray-400 mb-2">{t.cloud_welcome}</h4><div className="h-40 overflow-y-auto custom-scroll bg-black/20 rounded-lg p-2">{userCloud.length === 0 ? <p className="text-gray-500 text-xs">{t.cloud_desc}</p> : userCloud.map((item, i) => (<div key={i} onClick={() => restoreCampaign(item)} className="cloud-item flex items-center gap-2 mb-2 p-2 bg-white/5 rounded border border-white/10"><img src={item.image} className="w-10 h-10 rounded object-cover" /><div className="overflow-hidden"><p className="text-[10px] text-gray-300 truncate">{item.date}</p><p className="text-[9px] text-gray-500 truncate w-40">CampaÃ±a #{i+1}</p></div></div>))}</div></div></div>) : (<div className="space-y-4 auth-form-container"><div><label className="auth-label">{t.lbl_email}</label><input className="glass-input" placeholder={t.ph_email} value={inputEmail} onChange={e => setInputEmail(e.target.value)} /></div><div><label className="auth-label">{t.lbl_api}</label><div className="relative"><input className="glass-input pl-10" type="password" placeholder={t.ph_api} value={inputApiKey} onChange={e => setInputApiKey(e.target.value)} /><div className="absolute left-3 top-3.5 text-cyan-500"><Icons.Key /></div></div></div><button onClick={handleLogin} className="w-full py-4 bg-white text-black font-black uppercase tracking-widest hover:bg-cyan-400 transition-colors rounded-lg flex items-center justify-center gap-2 mt-4">{t.setup_btn} <Icons.Google /></button></div>)}<div className="embedded-credit">{t.credit_text}</div></div></div>;
            if (view === 'upload') return <div className="min-h-screen flex flex-col items-center justify-center p-6 fade-enter relative"><HeaderInternal /><div className="w-full max-w-4xl glass p-12 rounded-3xl text-center border border-white/10 mt-20"><div className="absolute top-8 left-8 cursor-pointer text-gray-500 hover:text-white" onClick={() => setView('landing')}><Icons.ChevronLeft /></div><h2 className="text-3xl font-bold font-tech mb-8 uppercase">{t.upload_title}</h2><div className="grid md:grid-cols-2 gap-8 mb-10"><div onClick={() => fileInputProduct.current.click()} className={`relative h-64 border-2 border-dashed rounded-2xl flex flex-col items-center justify-center transition-all cursor-pointer group overflow-hidden ${formData.image ? 'border-cyan-500 bg-cyan-900/10' : 'border-white/20 hover:border-cyan-500'}`}>{formData.image ? (<><img src={formData.image} className="w-full h-full object-contain p-4" /><div className="scan-line"></div></>) : <><div className="w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mb-4"><Icons.Upload /></div><span className="text-xs font-bold uppercase text-gray-400">{t.upload_prod}</span></>}<input type="file" ref={fileInputProduct} className="hidden" accept="image/*" onChange={(e) => handleUpload(e, 'image')} /></div><div onClick={() => fileInputLogo.current.click()} className={`relative h-64 border-2 border-dashed rounded-2xl flex flex-col items-center justify-center transition-all cursor-pointer group overflow-hidden ${formData.logo ? 'border-purple-500 bg-purple-900/10' : 'border-white/20 hover:border-purple-500'}`}>{formData.logo ? (<><img src={formData.logo} className="w-full h-full object-contain p-8" /><div className="scan-line"></div></>) : <><div className="w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mb-4"><Icons.Zap /></div><span className="text-xs font-bold uppercase text-gray-400">{t.upload_logo}</span></>}<input type="file" ref={fileInputLogo} className="hidden" accept="image/*" onChange={(e) => handleUpload(e, 'logo')} /></div></div><button onClick={() => { if(!formData.image) return alert("Sube producto"); playSound('click'); changeView('q1'); }} className={`tech-btn w-full py-5 text-xl uppercase tracking-widest ${!formData.image && 'opacity-50 cursor-not-allowed'}`}>{t.next}</button><div className="embedded-credit">{t.credit_text}</div></div></div>;
            if (view === 'q1') return <QuestionScreen title={t.q1_title} color="text-cyan-400" nextView="q2" prevView="upload" onNext={() => changeView('q2')} onPrev={() => changeView('upload')} credits={credits} setView={setView} tLang={t}><input className="quiz-input" placeholder={t.q1_ph} autoFocus value={formData.target} onChange={e => setFormData({...formData, target: e.target.value})} /></QuestionScreen>;
            if (view === 'q2') return <QuestionScreen title={t.q2_title} color="text-purple-400" nextView="q3" prevView="q1" onNext={() => changeView('q3')} onPrev={() => changeView('q1')} credits={credits} setView={setView} tLang={t}><div className="space-y-4"><input className="quiz-input" placeholder={t.q2_p1} value={formData.product.name} onChange={e => updateProduct('name', e.target.value)} /><div className="grid grid-cols-2 gap-4"><input className="quiz-input" placeholder={t.q2_p2} value={formData.product.price} onChange={e => updateProduct('price', e.target.value)} /><input className="quiz-input" placeholder={t.q2_p3} value={formData.product.promo} onChange={e => updateProduct('promo', e.target.value)} /></div></div></QuestionScreen>;
            if (view === 'q3') return <QuestionScreen title={t.q3_title} color="text-green-400" nextView="q4" prevView="q2" onNext={() => changeView('q4')} onPrev={() => changeView('q2')} credits={credits} setView={setView} tLang={t}><div className="space-y-4"><input className="quiz-input" placeholder={t.q3_p1} value={formData.company} onChange={e => setFormData({...formData, company: e.target.value})} /><div className="relative"><input className="quiz-input pl-10" placeholder={t.q3_p2} value={formData.whatsapp} onChange={e => setFormData({...formData, whatsapp: e.target.value})} /><div className="absolute left-2 top-4 text-green-500 font-bold">WA</div></div></div></QuestionScreen>;
            if (view === 'q4') return <QuestionScreen title={t.q4_title} color="text-yellow-400" nextView="q5" prevView="q3" onNext={() => changeView('q5')} onPrev={() => changeView('q3')} credits={credits} setView={setView} tLang={t}><div className="space-y-6"><input className="quiz-input" placeholder={t.q4_ph1} value={formData.inspiration} onChange={e => setFormData({...formData, inspiration: e.target.value})} /><div onClick={() => fileInputInspiration.current.click()} className={`border-2 border-dashed rounded-xl p-6 cursor-pointer transition-all text-center relative h-48 flex items-center justify-center overflow-hidden ${formData.inspirationImg ? 'border-yellow-400' : 'border-white/20 hover:border-yellow-400'}`}>{formData.inspirationImg ? (<><img src={formData.inspirationImg} className="w-full h-full object-cover absolute top-0 left-0 opacity-60" /><div className={`scan-line opacity-100`}></div><div className="relative z-10 bg-black/50 px-4 py-2 rounded-full text-xs font-bold text-yellow-400 border border-yellow-400 uppercase">{t.q4_change}</div></>) : (<div className="text-gray-500 text-xs uppercase">{t.q4_upload}</div>)}<input type="file" ref={fileInputInspiration} className="hidden" onChange={(e) => handleUpload(e, 'inspirationImg')} /></div></div></QuestionScreen>;
            if (view === 'q5') return <QuestionScreen title={t.q5_title} color="text-red-400" nextView="style" prevView="q4" onNext={() => changeView('style')} onPrev={() => changeView('q4')} credits={credits} setView={setView} tLang={t}><div className="h-64 overflow-y-auto pr-2 custom-scroll">{Object.entries(COLOR_GROUPS).map(([group, colors]) => (<div key={group} className="mb-6"><p className="text-[10px] font-bold text-gray-500 uppercase mb-3 tracking-widest text-left">{group === "NEUTROS" ? t.color_n : group === "NUDE" ? t.color_nu : group === "PRIMARIOS" ? t.color_p : group === "SECUNDARIOS" ? t.color_s : group === "TERCIARIOS" ? t.color_t : t.color_q}</p><div className="flex flex-wrap gap-3">{colors.map(c => (<div key={c} onClick={() => toggleColor(c)} className={`color-check ${formData.colors.includes(c) ? 'selected' : ''}`} style={{backgroundColor: c}}></div>))}</div></div>))}</div></QuestionScreen>;
            if (view === 'style') return <div className="min-h-screen p-6 fade-enter flex flex-col relative"><HeaderInternal /><div className="flex items-center gap-4 mb-8 max-w-7xl mx-auto w-full mt-20"><button onClick={() => setView('q5')} className="p-2 rounded-full bg-white/10 hover:bg-white/20"><Icons.ChevronLeft /></button><h2 className="text-3xl font-bold font-tech">{t.style_title}</h2></div><div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 max-w-7xl mx-auto w-full">{STYLES_DATA.map(s => (<div key={s.id} onClick={() => {playSound('click'); setFormData({...formData, style: t[`s_${s.id}`]}); changeView('light')}} className="glass-card rounded-xl h-64 group"><img src={s.img} className="w-full h-full object-cover opacity-70 group-hover:opacity-100 group-hover:scale-110 transition-all duration-500" /><div className="card-label">{t[`s_${s.id}`]}</div></div>))}</div><div className="mt-8 w-full max-w-7xl mx-auto"><div className="floating-credit">{t.credit_text}</div></div></div>;
            if (view === 'light') return <div className="min-h-screen p-6 fade-enter flex flex-col relative"><HeaderInternal /><div className="flex items-center gap-4 mb-8 max-w-7xl mx-auto w-full mt-20"><button onClick={() => changeView('style')} className="p-2 rounded-full bg-white/10 hover:bg-white/20"><Icons.ChevronLeft /></button><h2 className="text-3xl font-bold font-tech">{t.light_title}</h2></div><div className="grid grid-cols-2 md:grid-cols-4 gap-6 max-w-7xl mx-auto w-full mb-12">{LIGHTING_DATA.map(l => (<div key={l.id} onClick={() => {playSound('click'); setFormData({...formData, light: t[`l_${l.id}`]}); }} className={`glass-card rounded-xl h-64 group ${formData.light === t[`l_${l.id}`] ? 'selected' : ''}`}><img src={l.img} className="w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-all" /><div className="card-label">{t[`l_${l.id}`]} <br/><span className="text-[9px] text-gray-400 font-normal">{t[`l_${l.id}_desc`]}</span></div></div>))}</div><div onClick={() => {playSound('click'); setFormData(prev => ({...prev, googleData: !prev.googleData}));}} className={`glass p-6 rounded-2xl flex justify-between items-center border transition-all cursor-pointer mb-8 max-w-2xl mx-auto w-full ${formData.googleData ? 'border-blue-500 bg-blue-900/20' : 'border-white/10 hover:border-blue-500/50'}`}><div className="flex items-center gap-4"><div className="bg-blue-500/20 p-3 rounded-full text-blue-400"><Icons.Google /></div><div><h3 className="font-bold">{t.google_data}</h3><p className="text-xs text-gray-400">{t.google_desc}</p></div></div><div className={`w-6 h-6 rounded-full border-2 flex items-center justify-center ${formData.googleData ? 'bg-blue-500 border-blue-500' : 'border-gray-500'}`}>{formData.googleData && <Icons.Check />}</div></div><div className="max-w-7xl mx-auto w-full text-center"><button onClick={runEngine} className="tech-btn px-20 py-6 text-2xl rounded-full shadow-[0_0_50px_rgba(6,182,212,0.5)]">{t.gen_btn}</button></div><div className="mt-8 w-full max-w-7xl mx-auto"><div className="floating-credit">{t.credit_text}</div></div></div>;
            if (view === 'processing') return <div className="min-h-screen flex flex-col items-center justify-center p-8 fade-enter relative overflow-hidden"><HeaderInternal /><div className="flex flex-col items-center justify-center gap-6 w-full max-w-2xl z-10 mt-32"><NeuralBrain /><div className="flex flex-col items-center gap-4 w-full"><h2 className="text-3xl md:text-4xl font-black font-tech text-white tracking-[0.2em] text-center animate-pulse uppercase drop-shadow-[0_0_25px_rgba(6,182,212,0.5)]">{loadingText}</h2><div className="flex flex-col items-center gap-2"><p className="text-cyan-400 font-mono text-xs tracking-[0.3em] font-bold">{t.processing}</p><p className="text-white font-black font-mono text-xl">{Math.round(progress)}%</p></div></div><div className="w-full max-w-md h-1 bg-gray-900 rounded-full overflow-hidden border border-white/10 shadow-lg"><div className="h-full bg-gradient-to-r from-cyan-500 via-blue-500 to-purple-600 transition-all duration-200 ease-out shadow-[0_0_30px_#06b6d4]" style={{ width: `${progress}%` }}></div></div></div><div className="floating-credit">{t.credit_text}</div></div>;

            if (view === 'result') return (
                <div className="min-h-screen flex flex-col items-center justify-center p-6 fade-enter relative">
                    <HeaderInternal />
                    <h2 className="text-5xl font-black font-tech text-white mt-24 mb-8 tracking-widest">{t.result_title}</h2>
                    
                    <div className="w-full max-w-7xl grid md:grid-cols-2 gap-10 glass p-8 rounded-3xl border border-white/20">
                        <div className="space-y-4 relative">
                            <div className="relative group rounded-2xl overflow-hidden border border-white/20 shadow-2xl mx-auto transition-all duration-500 h-[500px]">
                                <ComparisonSlider beforeImage={formData.image || UGLY_BURGER_IMAGE} afterImage={resultImage} tLang={t} />
                            </div>
                            <div className="flex gap-2">
                                <button onClick={handleDownloadImage} className="flex-1 py-3 bg-cyan-500 text-black text-xs font-bold uppercase rounded-xl hover:bg-cyan-400 transition-colors flex items-center justify-center gap-2 shadow-lg shadow-cyan-500/20"><Icons.Download /> {t.download}</button>
                                <button onClick={() => setIsEditing(true)} className="flex-1 py-3 border border-white/20 text-white text-xs font-bold uppercase rounded-xl hover:bg-white/10 transition-colors flex items-center justify-center gap-2">{t.edit_design}</button>
                            </div>
                        </div>
                        <div className="flex flex-col space-y-6">
                            <div className="bg-black/40 backdrop-blur-md p-4 rounded-xl border border-cyan-500/30 shadow-[0_0_30px_rgba(6,182,212,0.1)] w-full animate-pulse-fast flex flex-col justify-center"><div className="flex items-center justify-between mb-2 px-2"><div className="flex items-center gap-2"><Icons.Zap /><span className="text-xs font-bold text-cyan-400 uppercase tracking-widest">{t.viral_score}</span></div><div className="text-2xl font-black font-tech text-white">9.8<span className="text-sm text-gray-500">/10</span></div></div><div className="w-full h-3 bg-gray-800 rounded-full overflow-hidden mb-2"><div className="h-full bg-gradient-to-r from-cyan-400 to-blue-600 w-[98%]"></div></div><p className="text-[10px] text-gray-400 text-center">{t.viral_desc}</p></div>
                            <div className="glass p-6 rounded-2xl border-l-4 border-blue-500"><h3 className="text-xs font-bold text-blue-400 uppercase tracking-widest mb-4 flex items-center gap-2"><Icons.Clock /> {t.schedule}</h3><div className="grid grid-cols-3 gap-2">{BEST_TIMES.map((bt, i) => (<div key={i} className="bg-white/5 p-3 rounded-lg text-center border border-white/5 hover:bg-white/10 transition-colors"><div className="flex justify-center mb-2 text-gray-300 scale-75">{bt.icon}</div><div className="text-lg font-black font-tech">{bt.time}</div><div className="text-[10px] text-gray-500 uppercase">{bt.day}</div></div>))}</div></div>
                            <div className="glass p-6 rounded-2xl border-l-4 border-purple-500 relative"><div className="flex justify-between items-center mb-4"><h3 className="text-xs font-bold text-purple-400 uppercase tracking-widest flex items-center gap-2"><Icons.Zap /> {t.copy_viral}</h3><button onClick={handleCopyText} className="text-[10px] font-bold text-gray-400 hover:text-white flex items-center gap-1 uppercase border border-white/20 px-2 py-1 rounded transition-colors"><Icons.Copy /> {t.copy_clipboard}</button></div><div className="copy-area custom-scroll">{generatedCopy}</div></div>
                            <div className="glass p-6 rounded-2xl border-l-4 border-green-500"><h3 className="text-xs font-bold text-green-400 uppercase tracking-widest mb-4 flex items-center gap-2"><Icons.Music /> {t.trends}</h3><div className="space-y-3">{REAL_MUSIC_IDS.map((track, i) => (<div key={i} className="bg-white/5 p-3 rounded-lg border border-white/10 flex justify-between items-center"><p className="text-xs font-bold text-white">{track.title} <span className="text-gray-500">- {track.id}</span></p></div>))}</div></div>
                            <div className="flex gap-4 mt-auto"><button onClick={handleNewGeneration} className="w-full py-4 border border-white/20 rounded-xl text-xs font-bold uppercase hover:bg-white hover:text-black transition-colors">{t.new_btn}</button></div>
                        </div>
                    </div>
                    <div className="floating-credit">{t.credit_text}</div>
                    {isEditing && <DesignEditor image={resultImage} logo={formData.logo} initialText={designState} onSave={saveDesign} onClose={() => setIsEditing(false)} tLang={t} />}
                </div>
            );

            if (view === 'pricing') return <div className="min-h-screen flex flex-col items-center justify-center p-6 relative z-10 fade-enter"><button onClick={() => setView('landing')} className="absolute top-8 right-8 w-12 h-12 rounded-full glass flex items-center justify-center hover:bg-white hover:text-black transition-all text-xl font-bold"><Icons.X /></button><h2 className="text-5xl font-black font-tech text-center mb-10">{t.plans}</h2><div className="grid md:grid-cols-3 gap-8 w-full max-w-6xl pb-10 items-center"><PricingCard title={t.p_names[0]} price="99" features={t.f_1} onSelect={() => {}} sub={t.p_subs[0]} tLang={t} /><PricingCard title={t.p_names[1]} price="297" strike="1200" recommended={true} features={t.f_2} onSelect={() => {}} sub={t.p_subs[1]} tLang={t} /><PricingCard title={t.p_names[2]} price="997" features={t.f_3} onSelect={() => {}} sub={t.p_subs[2]} tLang={t} /></div><div className="floating-credit">{t.credit_text}</div></div>;
            if (view === 'faq') return <div className="min-h-screen flex flex-col items-center justify-center p-6 relative z-10 fade-enter"><button onClick={() => setView('landing')} className="absolute top-8 right-8 w-12 h-12 rounded-full glass flex items-center justify-center hover:bg-white hover:text-black transition-all text-xl font-bold"><Icons.X /></button><h2 className="text-5xl font-black font-tech text-center mb-16">{t.faq_title}</h2><div className="max-w-3xl w-full space-y-6"> {[{q: t.q1, a: t.a1}, {q: t.q2, a: t.a2}, {q: t.q3, a: t.a3}].map((item, i) => (<details key={i} className="glass p-6 rounded-xl border border-white/10 group cursor-pointer open:bg-white/5"><summary className="font-bold text-lg flex justify-between items-center outline-none list-none uppercase font-tech">{item.q} <span className="text-cyan-500 transition-transform group-open:rotate-180"><Icons.ChevronDown /></span></summary><p className="text-gray-400 text-sm mt-4 leading-relaxed pl-4 border-l-2 border-cyan-500/50">{item.a}</p></details>))} </div><div className="floating-credit">{t.credit_text}</div></div>;

            return (
                <>
                    <button onClick={() => {setIsMuted(!isMuted); document.querySelectorAll('audio').forEach(el => el.muted = !isMuted)}} className="mute-btn">
                        {isMuted ? <Icons.VolumeX /> : <Icons.Volume2 />}
                    </button>
                    {view === 'landing' && landingView}
                    {view === 'pricing' && pricingView}
                    {view === 'setup' && setupView}
                    {view === 'upload' && uploadView}
                    {view === 'q1' && q1View}
                    {view === 'q2' && q2View}
                    {view === 'q3' && q3View}
                    {view === 'q4' && q4View}
                    {view === 'q5' && q5View}
                    {view === 'style' && styleView}
                    {view === 'light' && lightView}
                    {view === 'processing' && processingView}
                    {view === 'result' && resultView}
                    {view === 'faq' && faqView}
                </>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
